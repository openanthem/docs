<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="description" content="Nimbus, a product of Anthem Open Source community">
<meta name="keywords" content="Nimbus, Nimbusframework, Anthem, OSS, features">
<title>Fundamentals</title>
<style>
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#000d7b;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color: rgb(7, 71, 166);text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgb(7, 71, 166);margin-top:2.25rem;margin-bottom:0;font-weight:bold;}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none;color:rgb(222, 235, 255);}
#toc a:active{text-decoration:underline}
#toctitle{color:#fff;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{margin-top:0!important;position:fixed;width:20em;left:0;top:60px;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:25em;padding-right:0}
#toc.toc2{width:25em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:25em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#000d7b;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#000d7b;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}

#toc { background-color: rgb(7, 71, 166); color: rgb(222, 235, 255); }
#toc .toc-link::before { width: 0px; }
#toc .toc-link.is-active-link { color: #afafaf; }
#toc a.go-back { font-family: "Open Sans","DejaVu Sans",sans-serif; font-size: 14px; font-weight: bold; }
#main-header { position: fixed; left: 0; right: 0; top: 0; margin: 0; padding: 0 1rem; border-bottom: 1px solid #ddddd8; border-top: 3px solid rgb(7, 71, 166); height: 60px; background-color: #fff; }
body { padding-top: 60px; }
#tocbot { margin-bottom: 60px; }
#header, #content { position: initial; }
.logo-container { line-height: 60px; }
@media only screen and (max-width:768px) { #toc { display: none; } }
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="fundamentals" class="article toc2 toc-left">
<header id="main-header">
    <div class="container">
        <div class="logo-container">
            <img src="images/anthem_logo_header.png" alt="Open Anthem">
        </div>
    </div>
</header>
<div id="header">
<h1>Fundamentals</h1>
<div class="details">
<span id="revnumber">version 1.3.1.M3</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#domain-model">1. The Domain Entity</a>
<ul class="sectlevel2">
<li><a href="#domain-model-introduction">1.1. Introduction to the Domain Entity</a></li>
<li><a href="#domain-model-core-vs-view">1.2. Core versus View</a></li>
<li><a href="#domain-model-definition-structure">1.3. Defintion Structure</a>
<ul class="sectlevel3">
<li><a href="#domain-model-definition-structure-simple">1.3.1. Simple Domain Entities</a></li>
<li><a href="#domain-model-definition-structure-complex">1.3.2. Complex Domain Entities</a></li>
<li><a href="#domain-model-definition-defining-view">1.3.3. Defining a View</a></li>
</ul>
</li>
<li><a href="#domain-model-domain-load">1.4. Loading the Domain Entities</a></li>
<li><a href="#domain-model-param">1.5. The Param Interface</a>
<ul class="sectlevel3">
<li><a href="#param-state-introduction">1.5.1. Introduction</a></li>
<li><a href="#param-pathing">1.5.2. Param Path</a>
<ul class="sectlevel4">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#param-pathing-ref-id">RefId</a></li>
<li><a href="#_cross_domain_pathing">Cross Domain Pathing</a></li>
<li><a href="#param-pathing-variable-resolver">Path Variable Resolver</a></li>
</ul>
</li>
<li><a href="#param-subclasses">1.5.3. Param Subclasses</a>
<ul class="sectlevel4">
<li><a href="#param-state-introduction-leaf">Leaf Param</a></li>
<li><a href="#param-state-introduction-nested">Nested Param</a></li>
<li><a href="#param-state-introduction-collection">Collection Param</a></li>
<li><a href="#param-state-introduction-collection-element">Collection Element Param</a></li>
<li><a href="#param-state-introduction-mapped">Mapped Param</a></li>
<li><a href="#param-state-introduction-transient">Transient Param</a></li>
</ul>
</li>
<li><a href="#domain-model-param-state">1.5.4. State</a>
<ul class="sectlevel4">
<li><a href="#_efficiency">Efficiency</a></li>
</ul>
</li>
<li><a href="#domain-model-param-messages">1.5.5. Param messages</a>
<ul class="sectlevel4">
<li><a href="#_displaying_messages_using_messageconditional">Displaying messages using @MessageConditional</a></li>
<li><a href="#_displaying_messages_manually">Displaying messages manually</a></li>
<li><a href="#_displaying_a_global_notification_message">Displaying a global notification message</a></li>
<li><a href="#_displaying_inline_messages">Displaying inline messages</a></li>
<li><a href="#_setting_the_message_type">Setting the message type</a></li>
<li><a href="#_preserving_messages_on_successive_loads_or_page_navigations">Preserving messages on successive loads or page navigations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuration">2. Configuration</a>
<ul class="sectlevel2">
<li><a href="#configuration-writing-view-config">2.1. Writing view configuration</a>
<ul class="sectlevel3">
<li><a href="#configuration-writing-view-config-basic-hierarchy">2.1.1. Creating a simple view domain</a></li>
<li><a href="#configuration-navigating-pages">2.1.2. Navigating between pages</a>
<ul class="sectlevel4">
<li><a href="#_external_page">External page</a></li>
</ul>
</li>
<li><a href="#configuration-writing-view-config-layouts">2.1.3. Defining layouts</a>
<ul class="sectlevel4">
<li><a href="#_configuring_a_view_domain_to_use_a_layout">Configuring a view domain to use a layout</a></li>
<li><a href="#_supported_components">Supported components</a></li>
<li><a href="#_defining_the_home_layout">Defining the "home" layout</a></li>
<li><a href="#_defining_embedded_layouts">Defining embedded layouts</a></li>
<li><a href="#_defining_a_view_with_no_layout">Defining a view with no layout</a></li>
</ul>
</li>
<li><a href="#configuration-writing-view-config-labels">2.1.4. Working with labels</a>
<ul class="sectlevel4">
<li><a href="#_spel_support">SpEL Support</a></li>
<li><a href="#_command_path_resolver_support">Command Path Resolver Support</a></li>
<li><a href="#_adding_help_text">Adding help text</a></li>
</ul>
</li>
<li><a href="#configuration-component-styling">2.1.5. Styling components with configuration</a></li>
<li><a href="#configuration-printing">2.1.6. Printing content</a>
<ul class="sectlevel4">
<li><a href="#_customizing_printable_content">Customizing printable content</a></li>
<li><a href="#_controlling_the_look_and_feel_of_printable_content">Controlling the look and feel of printable content</a></li>
</ul>
</li>
<li><a href="#configuration-ui-errors">2.1.7. UI Error Messages</a>
<ul class="sectlevel4">
<li><a href="#_providing_custom_messages_for_an_exception">Providing custom messages for an exception</a></li>
<li><a href="#_defining_a_custom_exception_handler">Defining a custom exception handler</a></li>
<li><a href="#_suppressing_ui_error_messages">Suppressing UI error messages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuration-data-source">2.2. Configuring data source connections</a>
<ul class="sectlevel3">
<li><a href="#configuration-data-source-mongodb">2.2.1. MongoDB</a></li>
<li><a href="#configuration-data-source-webservice">2.2.2. External web services</a></li>
<li><a href="#configuration-data-source-custom">2.2.3. Custom repository implementations</a></li>
</ul>
</li>
<li><a href="#configuration-mapping">2.3. Mapping params</a>
<ul class="sectlevel3">
<li><a href="#configuration-mapping-configuring-a-mapping">2.3.1. Configuring a Mapping</a>
<ul class="sectlevel4">
<li><a href="#_mapping_a_type">Mapping a Type</a></li>
<li><a href="#_mapping_a_param">Mapping a Param</a></li>
</ul>
</li>
<li><a href="#_mapping_an_view_entity_to_a_core_entity_with_a_different_name">2.3.2. Mapping an view entity to a core entity with a different name</a></li>
<li><a href="#_mapping_with_hierarchies">2.3.3. Mapping with hierarchies</a></li>
<li><a href="#_mapping_at_multiple_layers">2.3.4. Mapping at multiple layers</a></li>
</ul>
</li>
<li><a href="#configuration-executing-logic">2.4. Defining executable logic</a>
<ul class="sectlevel3">
<li><a href="#_executing_config_statements">2.4.1. Executing @Config statements</a>
<ul class="sectlevel4">
<li><a href="#configuration-executing-logic-initialize">Use @Initialize to execute a set of @Configs after page load</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuration-rules">2.5. Rule configuration</a></li>
<li><a href="#configuration-framework-events">2.6. Events</a>
<ul class="sectlevel3">
<li><a href="#configuration-framework-predefined-events">2.6.1. Predefined events</a>
<ul class="sectlevel4">
<li><a href="#framework-events-on-param-create">OnParamCreate</a></li>
<li><a href="#framework-events-on-root-command-execute">OnRootCommandExecute</a></li>
<li><a href="#framework-events-on-runtime-start">OnRuntimeStart</a></li>
<li><a href="#framework-events-on-runtime-stop">OnRuntimeStop</a></li>
<li><a href="#framework-events-on-self-command-execute">OnSelfCommandExecute</a></li>
<li><a href="#framework-events-on-state-change">OnStateChange</a></li>
<li><a href="#framework-events-on-state-load">OnStateLoad</a></li>
<li><a href="#framework-events-on-state-load-get">OnStateLoadGet</a></li>
<li><a href="#framework-events-on-state-load-new">OnStateLoadNew</a></li>
<li><a href="#framework-events-script">Script</a></li>
</ul>
</li>
<li><a href="#configuration-framework-custom-event-handlers">2.6.2. Creating a custom event handler</a></li>
</ul>
</li>
<li><a href="#configuration-bpmn">2.7. Business process model and notation (BPMN)</a></li>
<li><a href="#configuration-changelog">2.8. Change log</a>
<ul class="sectlevel3">
<li><a href="#_usage_examples">2.8.1. Usage Examples</a></li>
</ul>
</li>
<li><a href="#configuration-validation">2.9. Validation</a>
<ul class="sectlevel3">
<li><a href="#_client_side_form_validation">2.9.1. Client side form validation</a></li>
<li><a href="#configuration-validation-messages">2.9.2. Validation Messages</a>
<ul class="sectlevel4">
<li><a href="#_default_message">Default Message</a></li>
<li><a href="#_overriding_a_default_message">Overriding a Default Message</a></li>
<li><a href="#_set_an_explicit_validation_message">Set an Explicit Validation Message</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#command-dsl">3. The Command Query DSL</a>
<ul class="sectlevel2">
<li><a href="#command-dsl-client-alias">3.1. Client Alias</a></li>
<li><a href="#command-dsl-domain-alias">3.2. Domain Alias</a></li>
<li><a href="#command-dsl-actions">3.3. Actions</a>
<ul class="sectlevel3">
<li><a href="#command-dsl-actions-new">3.3.1. _new</a></li>
<li><a href="#command-dsl-actions-get">3.3.2. _get</a></li>
<li><a href="#command-dsl-actions-save">3.3.3. _save</a></li>
<li><a href="#command-dsl-actions-replace">3.3.4. _replace</a></li>
<li><a href="#command-dsl-actions-update">3.3.5. _update</a></li>
<li><a href="#command-dsl-actions-delete">3.3.6. _delete</a></li>
<li><a href="#command-dsl-actions-search">3.3.7. _search</a></li>
<li><a href="#command-dsl-actions-process">3.3.8. _process</a></li>
<li><a href="#command-dsl-actions-nav">3.3.9. _nav</a></li>
</ul>
</li>
<li><a href="#command-dsl-query-params">3.4. Query Params</a></li>
<li><a href="#function-handlers">3.5. Function Handlers</a>
<ul class="sectlevel3">
<li><a href="#_providing_arguments_to_a_function_handler">3.5.1. Providing Arguments to a Function Handler</a></li>
<li><a href="#_predefined_function_handlers">3.5.2. Predefined Function Handlers</a>
<ul class="sectlevel4">
<li><a href="#function-handler-get-param">Param</a></li>
<li><a href="#function-handler-new-initEntity">InitEntity</a></li>
<li><a href="#function-handler-process-add">Add</a></li>
<li><a href="#function-handler-process-bpm">BPM</a></li>
<li><a href="#function-handler-process-set">Set</a></li>
<li><a href="#function-handler-process-setByRule">Set by Rule</a></li>
<li><a href="#function-handler-process-update">Update</a></li>
<li><a href="#function-handler-search-example">Search by Example</a></li>
<li><a href="#function-handler-search-lookup">Search by Lookup</a></li>
<li><a href="#function-handler-search-query">Search by Query</a></li>
</ul>
</li>
<li><a href="#function-handlers-custom">3.5.3. Custom Function Handlers</a>
<ul class="sectlevel4">
<li><a href="#_defining_custom_function_handler_logic">Defining custom function handler logic</a></li>
<li><a href="#_defining_a_custom_function_handler_bean">Defining a custom function handler bean</a></li>
<li><a href="#_invoking_custom_function_handlers">Invoking custom function handlers</a></li>
</ul>
</li>
<li><a href="#function-handler-url-based">3.5.4. URL Based Function Handler</a>
<ul class="sectlevel4">
<li><a href="#_usage_11">Usage</a></li>
<li><a href="#_supported_query_parameters_11">Supported Query Parameters</a></li>
<li><a href="#_providing_the_state_to_add">Providing the state to add</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#command-dsl-sending-a-payload">3.6. Sending a payload with a Command</a>
<ul class="sectlevel3">
<li><a href="#rawpayload-as-query-param">3.6.1. Send rawPayload as a query parameter</a></li>
<li><a href="#rawpayload-as-payload">3.6.2. Send rawPayload as HTTP Payload content</a></li>
<li><a href="#_priority_of_how_rawpayload_is_set">3.6.3. Priority of how rawPayload is set</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#extensions">4. Extensions</a>
<ul class="sectlevel2">
<li><a href="#extensions-file-import">4.1. Importing data files to an entity</a>
<ul class="sectlevel3">
<li><a href="#_exposing_a_controller_to_capture_the_uploaded_data_file">4.1.1. Exposing a controller to capture the uploaded data file</a></li>
<li><a href="#_supported_file_types">4.1.2. Supported file types</a>
<ul class="sectlevel4">
<li><a href="#_csv">CSV</a></li>
<li><a href="#_excel">Excel</a></li>
<li><a href="#_importing_other_types_of_files">Importing other types of files</a></li>
</ul>
</li>
<li><a href="#_configurable_parserconversion_properties">4.1.3. Configurable Parser/Conversion Properties</a></li>
<li><a href="#_error_handling">4.1.4. Error Handling</a></li>
<li><a href="#_pojo_writing_strategies">4.1.5. POJO Writing Strategies</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#appendix">5. Appendix</a>
<ul class="sectlevel2">
<li><a href="#core-all-config-annotations">5.1. Config Annotations</a>
<ul class="sectlevel3">
<li><a href="#config-annotations-conditional">5.1.1. Conditional Config Annotations</a>
<ul class="sectlevel4">
<li><a href="#config-annotations-access-conditional">AccessConditional</a></li>
<li><a href="#config-annotations-activate-conditional">ActivateConditional</a></li>
<li><a href="#config-annotations-config-conditional">ConfigConditional</a></li>
<li><a href="#config-annotations-enable-conditional">EnableConditional</a></li>
<li><a href="#config-annotations-expression-conditional">ExpressionConditional</a></li>
<li><a href="#config-annotations-message-conditional">MessageConditional</a></li>
<li><a href="#config-annotations-validate-conditional">ValidateConditional</a></li>
<li><a href="#config-annotations-values-conditional">ValuesConditional</a></li>
<li><a href="#config-annotations-visible-conditional">VisibleConditional</a></li>
</ul>
</li>
<li><a href="#core-config-annotations">5.1.2. Core Config Annotations</a>
<ul class="sectlevel4">
<li><a href="#core-config-annotation-concept-id">ConceptId</a></li>
<li><a href="#core-config-annotation-config">Config</a></li>
<li><a href="#core-config-annotation-config-nature">ConfigNature</a></li>
<li><a href="#core-config-annotation-domain">Domain</a></li>
<li><a href="#core-config-annotation-domain-meta">DomainMeta</a></li>
<li><a href="#core-config-annotation-execution">Execution</a></li>
<li><a href="#core-config-annotation-initialize">Initialize</a></li>
<li><a href="#core-config-annotation-maps-to">MapsTo</a></li>
<li><a href="#core-config-annotation-model">Model</a></li>
<li><a href="#core-config-annotation-param-context">ParamContext</a></li>
<li><a href="#core-config-annotation-print-config">PrintConfig</a></li>
<li><a href="#core-config-annotation-search-nature">SearchNature</a></li>
<li><a href="#core-config-annotation-rule">Rule</a></li>
<li><a href="#core-config-annotation-values">Values</a></li>
<li><a href="#core-config-annotation-apimetriccollection">EnableAPIMetricCollection</a></li>
</ul>
</li>
<li><a href="#view-config-annotations">5.1.3. View Config Annotations</a>
<ul class="sectlevel4">
<li><a href="#view-config-annotation-accordion">Accordion</a></li>
<li><a href="#view-config-annotation-action-tray">ActionTray</a></li>
<li><a href="#view-config-annotation-autocomplete">Autocomplete</a></li>
<li><a href="#view-config-annotation-button">Button</a></li>
<li><a href="#view-config-annotation-button-group">ButtonGroup</a></li>
<li><a href="#view-config-annotation-calendar">Calendar</a></li>
<li><a href="#view-config-annotation-card-detail">CardDetail</a></li>
<li><a href="#view-config-annotation-card-details-grid">CardDetailsGrid</a></li>
<li><a href="#view-config-annotation-chart">Chart</a></li>
<li><a href="#view-config-annotation-check-box">CheckBox</a></li>
<li><a href="#view-config-annotation-check-box-group">CheckBoxGroup</a></li>
<li><a href="#view-config-annotation-combo-box">ComboBox</a></li>
<li><a href="#view-config-annotation-field-value">FieldValue</a></li>
<li><a href="#view-config-annotation-field-value-group">FieldValueGroup</a></li>
<li><a href="#view-config-annotation-file-upload">FileUpload</a></li>
<li><a href="#view-config-annotation-form">Form</a></li>
<li><a href="#view-config-annotation-form-element-group">FormElementGroup</a></li>
<li><a href="#view-config-annotation-grid">Grid</a></li>
<li><a href="#view-config-annotation-grid-column">GridColumn</a></li>
<li><a href="#view-config-annotation-grid-row-body">GridRowBody</a></li>
<li><a href="#view-config-annotation-header">Header</a></li>
<li><a href="#view-config-annotation-hints">Hints</a></li>
<li><a href="#view-config-annotation-input-mask">InputMask</a></li>
<li><a href="#view-config-annotation-input-switch">InputSwitch</a></li>
<li><a href="#view-config-annotation-image">Image</a></li>
<li><a href="#view-config-annotation-label">Label</a></li>
<li><a href="#view-config-annotation-link">Link</a></li>
<li><a href="#view-config-annotation-link-menu">LinkMenu</a></li>
<li><a href="#view-config-annotation-menu">Menu</a></li>
<li><a href="#view-config-annotation-menu-link">MenuLink</a></li>
<li><a href="#view-config-annotation-menu-panel">MenuPanel</a></li>
<li><a href="#view-config-annotation-modal">Modal</a></li>
<li><a href="#view-config-annotation-page">Page</a></li>
<li><a href="#view-config-annotation-page-header">PageHeader</a></li>
<li><a href="#view-config-annotation-paragraph">Paragraph</a></li>
<li><a href="#view-config-annotation-pick-list">PickList</a></li>
<li><a href="#view-config-annotation-radio">Radio</a></li>
<li><a href="#view-config-annotation-rich-text">RichText</a></li>
<li><a href="#view-config-annotation-section">Section</a></li>
<li><a href="#view-config-annotation-signature">Signature</a></li>
<li><a href="#view-config-annotation-static-text">StaticText</a></li>
<li><a href="#view-config-annotation-tab">Tab</a></li>
<li><a href="#view-config-annotation-text-area">TextArea</a></li>
<li><a href="#view-config-annotation-text-box">TextBox</a></li>
<li><a href="#view-config-annotation-tile">Tile</a></li>
<li><a href="#view-config-annotation-tree-grid">TreeGrid</a></li>
<li><a href="#view-config-annotation-view-root">ViewRoot</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#examples">5.2. Examples</a>
<ul class="sectlevel3">
<li><a href="#examples-conditional-configuration">5.2.1. Conditional Configuration Examples</a></li>
<li><a href="#examples-action-replace">5.2.2. _replace Examples</a></li>
<li><a href="#examples-action-update">5.2.3. _update Examples</a></li>
<li><a href="#examples-values-configuration">5.2.4. Values Configuration Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This part of the technical documentation will cover all of the core technologies used within the Framework.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="domain-model">1. The Domain Entity</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having a quality understanding of how to configure <em>domain entities</em> is essential to build other types of configuration offered by the Framework. Furthermore, it is a great place to be considered as an entry point in using the Framework. This chapter will describe the primary concepts and usage behind the <em>domain entity</em>.</p>
</div>
<div class="sect2">
<h3 id="domain-model-introduction">1.1. Introduction to the Domain Entity</h3>
<div class="paragraph">
<p>At it&#8217;s core, the <em>domain entity</em> is nothing more than a simple encapsulated Java object. It is the blueprint for the objects that the Framework will create and use, similarly to the way a class declaration is used to create an instance of an object in Java.</p>
</div>
<div class="paragraph">
<p>Aside from being a straightforward Java bean, the <em>domain entity</em> may have a specific Framework metadeta decorating it&#8217;s fields (the Framework refers to these as <a href="#core-all-config-annotations">Config Annotations</a>) which will be used to instruct the Framework on how to handle the <em>domain entities</em> created from this <em>domain entity</em> during certain events.</p>
</div>
<div class="paragraph">
<p>See the following sample <em>domain entity</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> {
    <span class="directive">private</span> <span class="predefined-type">String</span> firstName;
    <span class="directive">private</span> <span class="predefined-type">String</span> lastName;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example <code>Person</code> has been defined as a <em>simple domain entity</em> with getters and setters defined for each of it&#8217;s fields.</p>
</div>
<div class="paragraph">
<p>It may be intuitive that this entity is a data-centric model created solely for the purpose of collecting data; it is. While this example is a simple one, it will be used in the examples to follow to demonstrate the domain modeling feature.</p>
</div>
<h4 id="_domain_entity_config_annotations" class="discrete">Domain Entity Config Annotations</h4>
<div class="paragraph">
<p>In the previous example, <code>@Domain</code> was used to decorate a class declaration so that the Framework used to identify <code>Person</code> as a domain entity. Domain defines the root or topmost level of a <em>domain entity</em>. The Framework supports other types of <em>domain entity</em> markers as well.</p>
</div>
<div class="paragraph">
<p>The config annotations that can be used to register domain entities are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#core-config-annotation-domain">Domain</a></p>
</li>
<li>
<p><a href="#core-config-annotation-model">Model</a></p>
</li>
</ul>
</div>
<h4 id="_defining_behavior" class="discrete">Defining Behavior</h4>
<div class="paragraph">
<p>There are many different variations of how the Framework can utilize domain entities. One such manner is to define a <code>ListenerType</code> on the domain entity that provides the Framework with extra instruction on how to handle an instance of it during specific scenarios. Consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.persistence })
<span class="annotation">@Repo</span>(value = Database.rep_mongodb, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> {
    <span class="annotation">@Id</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> id;
    <span class="directive">private</span> <span class="predefined-type">String</span> firstName;
    <span class="directive">private</span> <span class="predefined-type">String</span> lastName;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example is very similar to the first, except the decorative annotation <code>@Domain</code> contains an additional attribute with a value of <code>ListenerType.persistence</code> and a <code>@Repo</code> config annotation. This configuration instructs the framework to have the underlying persistence layer perform certain actions on instances of this domain entity during the Framework lifecycle. Consider a use case where there is a need to update the values of a particular entity within the application&#8217;s database according to what is stored in an instance of this <code>Person</code> object. Specifying <code>ListenerType.persistence</code> as a <em>listener</em> for this domain entity will handle such a scenario.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
There are other <code>ListenerType</code> types and other mechanisms to configure the domain entity behavior available on <code>Domain</code> and each of the other domain entity config annotations. See the specific config annotation for more details (e.g. <a href="#core-config-annotation-domain">Domain</a>, <a href="#core-config-annotation-model">Model</a>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="domain-model-core-vs-view">1.2. Core versus View</h3>
<div class="paragraph">
<p>A key concept to the Framework in terms on the <em>domain entity</em> is understanding the difference between a <strong>core domain entity</strong> and a <strong>view domain entity</strong>.</p>
</div>
<div class="paragraph">
<p>The Framework is reponsible for handling two primary sets of data in terms of configuration data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The "view" data which tells the framework how to render the graphical user interface.</p>
</li>
<li>
<p>The "core" data that the application creates, reads, updates, and deletes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Therefore it is essential that it knows how to differentiate between what is <em>core</em> and what is <em>view</em>. At the same time to take full advtange of abstraction capabilities within the Framework, the domain entities are essentially created in the same fasion. How the Framework will interpret between the domain entities is entirely up to how they are configured given the configuration metadata, which will be explained in later sections (see <a href="#configuration-mapping">Mapping params</a> and <a href="#configuration">Configuration</a>).</p>
</div>
<div class="paragraph">
<div class="title">Definition:</div>
<p>A <strong>core domain entity</strong> is a <em>domain entity</em> who&#8217;s primary responsibility is maintaining the integrity of the data contained within the application.</p>
</div>
<div class="paragraph">
<div class="title">Definition:</div>
<p>A <strong>view domain entity</strong> is a <em>domain entity</em> who&#8217;s primary responsibility is maintaining instructions on how the GUI should be rendered.</p>
</div>
</div>
<div class="sect2">
<h3 id="domain-model-definition-structure">1.3. Defintion Structure</h3>
<div class="sect3">
<h4 id="domain-model-definition-structure-simple">1.3.1. Simple Domain Entities</h4>
<div class="paragraph">
<p>The <code>Person</code> <em>domain entity</em> previously defined is a representation of what is understood to be a <em>simple domain entity</em>.</p>
</div>
<div class="paragraph">
<div class="title">Definition:</div>
<p>A <strong>simple domain entity</strong> is a <em>domain entity</em> who&#8217;s field data does not contain other <em>domain entity</em> within it.</p>
</div>
<div class="paragraph">
<p>In other words, it&#8217;s defined fields consist only of simple types.</p>
</div>
<div class="paragraph">
<p>While not always the case, simple domain entities are typically associated with <em>core domain entities</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="domain-model-definition-structure-complex">1.3.2. Complex Domain Entities</h4>
<div class="paragraph">
<p>Aligning with the theme of object oriented programming offered by Java, the Framework supports the notion of "nesting" <em>domain entity</em> definition within each other.</p>
</div>
<div class="paragraph">
<div class="title">Definition:</div>
<p>A <strong>complex entity</strong>, or <strong>complex object</strong>, is a <em>domain entity* that contains another _domain entity</em> declared within it.</p>
</div>
<div class="paragraph">
<p>Consider the following example of a <em>view domain entity</em> representing a form for the aforementioned <code>Person</code>:</p>
</div>
<div class="listingblock">
<div class="title">Person.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VFPersonForm</span> {

    <span class="annotation">@TextBox</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> firstName;

    <span class="annotation">@TextBox</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> lastName;

    <span class="directive">private</span> Address address;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Address.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Address</span> {

    <span class="annotation">@TextBox</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> line1;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, both <code>VFPersonForm</code> and <code>Address</code> are decorated with <code>@Model</code>. Therefore, <code>VFPersonForm</code> is a <em>complex domain entity</em> because it contains an instance of <code>Address</code>.</p>
</div>
<div class="paragraph">
<p>This scenario contains only one level of nesting between <code>VFPersonForm</code> and <code>Address</code>. It is not uncommon to have multiple layers of "nesting" within a <em>domain entity</em>, hence giving rise to the term <em>complex</em>. Consider a common scenario in HTML where a page contains a section, which contains a tab, which contains a component, which contains a&#8230;&#8203; the context of what could be rendered in the view could be boundless. The Framework is able to support this via "nesting" and using these <em>complex domain entities</em>.</p>
</div>
<div class="paragraph">
<p>While not always the case, complex domain entities are typically associated with <em>view domain entities</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="domain-model-definition-defining-view">1.3.3. Defining a View</h4>
<div class="paragraph">
<p>The UI Framework expects a specific pattern in terms of where components are placed. Each of the <a href="#view-config-annotations">View Config Annotations</a> has explicitely defined which components are to be placed where.</p>
</div>
<div class="paragraph">
<p>The same is true for setting up the standard page view. The following configuration is a typical view configuration to get started:</p>
</div>
<div class="listingblock">
<div class="title">Sample View Entity 1</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_view1</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.websocket })
<span class="annotation">@Repo</span>(Database.rep_none)
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRSampleView1</span> {

    <span class="annotation">@Page</span>
    <span class="directive">private</span> VPMain vpMain;

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VPMain</span> {

        <span class="annotation">@Tile</span>
        <span class="directive">private</span> VTMain vtMain;
    }

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VTMain</span> {

        <span class="annotation">@Section</span>
        <span class="directive">private</span> VSMain vsMain;
    }

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSMain</span> {

        <span class="comment">// Components here...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As mentioned, this is the standard view config which can be expanded upon for an application&#8217;s specific needs. The primary point to note is the structure of <strong>Domain Entity</strong> &gt; <strong>Page</strong> &gt; <strong>Tile</strong> &gt; <strong>Section</strong>. Only once this structure has been defined will. For more specific information on what components can go where, please review the <a href="#view-config-annotations">View Config Annotations</a> section.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="domain-model-domain-load">1.4. Loading the Domain Entities</h3>
<div class="paragraph">
<p>The <code>com.antheminc.oss.nimbus.domain.config.builder</code> package is reponsible for consuming the <em>domain entity</em> information during the initial loading process. On application startup, the Framework consumes the defined <em>domain entity</em> configurations and stores that information included within them in memory.</p>
</div>
<div class="paragraph">
<p>The registration process for domain entities starts with a registered Spring bean of type <code>DomainConfigBuilder</code>. This instance of  <code>DomainConfigBuilder</code> uses the Spring Framework&#8217;s scanning capabilities to retrieve <code>Domain</code> configuration defined within specific packages.</p>
</div>
<h4 id="_configuring_base_packages" class="discrete">Configuring Base Packages</h4>
<div class="paragraph">
<p>The packages that are scanned in this manner can and should be defined via the application properties using the standard Spring <code>PropertyPlaceholderConfigurer</code> mechanism (using <em>application.properties</em>, <em>application.yml</em>, etc.).</p>
</div>
<div class="paragraph">
<p>The property used to identify packages for registration is: <code>domain.model.basePackages</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">domain</span>:
  <span class="key">model</span>:
    <span class="key">basePackages</span>:
      - <span class="string"><span class="content">com.antheminc.oss.nimbus.entity</span></span>
      - <span class="string"><span class="content">com.acme.app.model.feature_a.core</span></span>
      - <span class="string"><span class="content">com.acme.app.model.feature_a.view</span></span>
      - <span class="string"><span class="content">com.acme.app.model.feature_b.core</span></span>
      - <span class="string"><span class="content">com.acme.app.model.feature_b.view</span></span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The order of which the entities are loaded may play an impact on certain framework features. It is recommended to always load <em>core</em> domain config prior to <em>view</em> domain config.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="domain-model-param">1.5. The Param Interface</h3>
<div class="paragraph">
<p>Consider that the Framework is acting much like an object oriented programming language in that a <em>domain entity</em> definition is playing the part of a class declaration. The next step in the Framework lifecycle is to use that definition to create an instance, much like the way an object is instantiated in an Objected Oriented Programming language.</p>
</div>
<div class="paragraph">
<p>This section focuses on the creation and use of the resulting object created by using the configuration consumed from the <em>domain entity</em>. The framework refers to this as the <em>param</em>, created using the <em>Param</em> interface.</p>
</div>
<div class="paragraph">
<p>This chapter will focus on explaining the <em>Param</em> interface in depth.</p>
</div>
<div class="sect3">
<h4 id="param-state-introduction">1.5.1. Introduction</h4>
<div class="paragraph">
<p>After the framework registers domain entity definitions during application startup, it is creating what the Framework understands as a <code>Param</code>. The <code>Param</code> interface defines a number of properties on it that both the framework and UI framework will use to perform a given operation. Some examples might be, setting the value of the object, setting the object&#8217;s visibility, or setting whether or not the object should have validation applied to it (if it is a form element). Whatever the case, the important thing to note is that the <code>Param</code> interface is collectively the "model" data that is used everywhere throughout the Framework.</p>
</div>
<div class="paragraph">
<p>While understanding the core concepts of the <code>Param</code> is not essential for building out the UI of the application, it is important to understand it when dealing with certain functional scenarios. For example, an application can be created using the Framework by simply using the <a href="#view-config-annotations">View Config Annotations</a> and <a href="#config-annotations-conditional">Conditional Config Annotations</a>; however, when needing to manipulate the model directly (perhaps in a rule or SpEL expression), having an understanding of <code>Param</code> will be extremely useful.</p>
</div>
</div>
<div class="sect3">
<h4 id="param-pathing">1.5.2. Param Path</h4>
<div class="paragraph">
<p>As previously explained, every Java variable created under a domain entity definition will eventually result in the creation of a <em>param</em>. Each param that is created in this way has a unique <strong>path</strong> by which it can be identified through using the framework&#8217;s Command Query DSL.</p>
</div>
<div class="sect4">
<h5 id="_introduction">Introduction</h5>
<div class="paragraph">
<p>The path is represented as a URI address that uniquely identifies a param&#8217;s location within the Framework. It is built by traversing through a Java class&#8217;s members, with a <code>/</code> denoting a child member (child members are also often referred to as "nested" members).</p>
</div>
<div class="paragraph">
<p>An example of some param paths can be found in the sample code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">petshop</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Repo</span>
<span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">petshop</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.persistence })
<span class="annotation">@Repo</span>(alias = <span class="string"><span class="delimiter">&quot;</span><span class="content">petshop</span><span class="delimiter">&quot;</span></span>, Database.rep_mongodb)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PetShop</span> {

    <span class="comment">// Param Path: /petshop:1/name</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="comment">// Param Path: /petshop:1/address</span>
    <span class="directive">private</span> Address address;

    <span class="comment">// Param Path: /petshop:1/boardedPets</span>
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;Pet&gt; boardedPets;

    <span class="comment">// Collection elements are also retrievable by supplying an index</span>
    <span class="comment">// immediately following member name.</span>
    <span class="comment">// Collection Element Param Path with index 0:</span>
    <span class="comment">//   /petshop:1/boardedPets/0</span>
    <span class="comment">// Collection Element Param Path with index 1:</span>
    <span class="comment">//   /petshop:1/boardedPets/1</span>
    <span class="comment">// Collection Element Param Path with index n (where n is an</span>
    <span class="comment">// integer &gt;= 0):</span>
    <span class="comment">//   /petshop:1/boardedPets/n</span>

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Address</span> {

        <span class="comment">// /petshop:1/address/street</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> street;

        ...
    }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Pet</span> {

        <span class="comment">// /petshop:1/boardedPets/0/name</span>
        <span class="comment">// /petshop:1/boardedPets/1/name</span>
        <span class="comment">// /petshop:1/boardedPets/.../name</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> name;

        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please note that in the example above all of the provided param paths are of the form: <code>/<strong>petshop:1</strong>/&#8230;&#8203;</code>. The index <code>1</code> is known as a <a href="#param-pathing-ref-id">RefId</a>, which will be explained in the following section.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-pathing-ref-id">RefId</h5>
<div class="paragraph">
<p>A <em>refId</em> is a unique identifier used to identify a particular instance of <em>domain entity</em> that has been created.</p>
</div>
<div class="paragraph">
<p>When a domain entity is configured with <a href="#core-config-annotation-repo"><code>@Repo</code></a>, the <em>refId</em> would be equivalent to the persistence ID used to store the object in the configured database.</p>
</div>
<div class="sect5">
<h6 id="_using_the_refid">Using the refId</h6>
<div class="paragraph">
<p>The <em>refId</em> is typically created and maintained by the Nimbus framework. It is often used in pathing or Nimbus DSL statements to retrieve data specific to a persisted entity.</p>
</div>
<div class="paragraph">
<p><em>refId</em> is configurable in the param path string with the syntax: <code>"{DOMAIN_ALIAS}:{REF_ID}"</code>. (e.g. <code>/petshop:1</code> or <code>/petshop:2</code>)</p>
</div>
</div>
<div class="sect5">
<h6 id="_relative_param_paths">Relative param paths</h6>
<div class="paragraph">
<p>While params may be resolved from the root param, it is not uncommon for params to be resolved relative to another param. The relative param is commonly referred to as a <em>context param</em>. This simply means that the path to the resolving param is simply relative from the path of the <em>context param</em>. This is achieved in the framework by using the familiar unix-style pathing syntax. For example, consider the following configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SectionA</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> p1; <b class="conum">(1)</b>

    <span class="directive">private</span> Subsection1 subsection1;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Subsection1</span> {

        <span class="directive">private</span> <span class="predefined-type">String</span> p2; <b class="conum">(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Assume the full path for this param is: <code>"/some_domain/page/view/tile/sectionA/p1"</code></p>
</li>
<li>
<p>Assume the full path for this param is: <code>"/some_domain/page/view/tile/sectionA/subsection1/p2"</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Using relative pathing, the following examples demonstrate relativity from one param to another:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>p2</code> is relative to <code>p1</code> by the path: <code>"/../subsection1/p2"</code></p>
</li>
<li>
<p><code>p1</code> is relative to <code>p2</code> by the path: <code>"/../../p1"</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cross_domain_pathing">Cross Domain Pathing</h5>
<div class="paragraph">
<p>Sometimes it may be necessary to change the domain entirely to retrieve the data needed when working with param paths. This is achievable through the use of the param path marker <code>/p</code>. Simply start a param path with <code>/p</code> and the root domain context will be changed.</p>
</div>
<div class="paragraph">
<p>See <a href="#param-pathing-reserved-keywords">Reserved Keywords</a> for more details on <code>/p</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-pathing-variable-resolver">Path Variable Resolver</h5>
<div class="paragraph">
<p>The Command Query DSL offers certain reserved variables or keywords that can be used in a path. The Framework uses a default implementation of <code>CommandPathVariableResolver</code> to resolve a param path from a provided from the context of another param.</p>
</div>
<div class="sect5">
<h6 id="_property_placeholders">Property Placeholders</h6>
<div class="paragraph">
<p>The default implementation of <code>CommandPathVariableResolver</code> will attempt to first resolve <code>${&#8230;&#8203;}</code> placeholders in the given path, replacing them with corresponding property values. Unresolvable placeholders without default value having been set is not supported.</p>
</div>
</div>
<div class="sect5">
<h6 id="param-pathing-reserved-keywords">Reserved Keywords</h6>
<div class="paragraph">
<p>After resolving property placeholders reserved framework keywords will be resolved. The framework provides support for the following reserved keywords:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The param path marker that denotes the start of a param path. This is only needed to be given when using a full URL or switching param contexts and is only recognized when used as the <strong>start</strong> of the param path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/.m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to the path of the param that is mapped to the param identified by the preceeding path. (e.g. <code>PARAM_PATH/.m</code> returns the mapped param of the param identified by <code>PARAM_PATH</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/.d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to the path of the param that is the root domain of the param identified by the preceeding path. (e.g. <code>PARAM_PATH/.d</code> returns the domain param that owns the param identified by <code>PARAM_PATH</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!#elemId!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to the <em>elemId</em> of the command param, provided it is a <em>collection element param</em>. Works for <em>mapped params</em> as well.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!#env!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the Spring <code>Environment</code> to resolve the preceeding path property. (e.g. <code>&lt;!#env.spring.application.name!&gt;</code> resolves using <code>Environment.getProperty("spring.application.name")</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!#refId!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to the <a href="#param-pathing-ref-id">RefId</a> of the <code>ExecutionContext</code> from which the command is being executed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!#self!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When preceeded with <code>loginId</code> or <code>id</code>, resolves to the respective field from the current logged in user&#8217;s <code>ClientUser</code> object. Otherwise, resolves to the current <a href="#command-dsl-client-alias">Client Alias</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!#this!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to the path of the param in the current context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!page=y!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to a string constructed from <code>page</code>, <code>pageSize</code>, and <code>sortBy</code> query parameters from the parent Command DSL statement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;!filterCriteria!&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolves to a query parameter statement of the form: <code>where=QUERYDSL_STATEMENT</code>, where <code>QUERYDSL_STATEMENT</code> is constructed from filter information sent in the parent Command DSL payload.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="param-subclasses">1.5.3. Param Subclasses</h4>
<div class="paragraph">
<p>There are many different types of <code>Param</code> implementations that are available. Each describes the model as created in the domain entity in such a way that the Framework is able to understand. For specific details about the implementations, see the <code>com.antheminc.oss.nimbus.domain.model.state</code> package.</p>
</div>
<div class="listingblock">
<div class="title">SampleEntity.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_entity</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleEntity</span> {

    <span class="comment">// Creates a leaf param</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> leaf;

    <span class="comment">// Creates a nested param</span>
    <span class="directive">private</span> NestedEntity nestedEntity;

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">NestedEntity</span> {

        <span class="comment">// Creates a leaf param inside of a nested param</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> nestedLeafEntity;
    }

    <span class="comment">// Creates a collection param, and potentially collection element params</span>
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;NestedEntity&gt; collectionEntity;

    <span class="comment">// Creates a leaf param and a mapped param</span>
    <span class="annotation">@MapsTo</span>.Path
    <span class="directive">private</span> <span class="predefined-type">String</span> mappedEntity;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to <code>SampleEntity.java</code> above when reviewing the different classifications of <code>Param</code> below.</p>
</div>
<div class="sect4">
<h5 id="param-state-introduction-leaf">Leaf Param</h5>
<div class="paragraph">
<p>A leaf param is a <code>Param</code> instance who has no children or nested params. A leaf param is represented by the interface <code>LeafParam</code>.</p>
</div>
<div class="paragraph">
<p>The variable <code>leaf</code> in the <code>SampleEntity.java</code> domain entity would be constructed by the Framework as a <code>LeafParam</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-state-introduction-nested">Nested Param</h5>
<div class="paragraph">
<p>A nested param is a <code>Param</code> instance who has children params. A nested param is represented by the interface <code>Model</code>.</p>
</div>
<div class="paragraph">
<p>The variable <code>nestedEntity</code> in the <code>SampleEntity.java</code> domain entity would be constructed by the Framework as a <code>Model</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-state-introduction-collection">Collection Param</h5>
<div class="paragraph">
<p>A collection param is a <code>Param</code> instance who is defined as an array or collection type. A collection param is represented by the interface <code>ListParam</code>.</p>
</div>
<div class="paragraph">
<p>The variable <code>collectionEntity</code> in the <code>SampleEntity.java</code> domain entity would be constructed by the Framework as a <code>ListParam</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-state-introduction-collection-element">Collection Element Param</h5>
<div class="paragraph">
<p>A collection element param is a <code>Param</code> instance contained as a child of a <code>ListParam</code>. It represents a child of a collection in the same sense that Java considers a collection element to belong to a <code>java.util.List</code>. A collection param element is represented by the interface <code>ListElemParam</code>.</p>
</div>
<div class="paragraph">
<p>The variable <code>collectionEntity</code> in the <code>SampleEntity.java</code> domain entity would contain 0 or more <code>ListElemParam</code> instances.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-state-introduction-mapped">Mapped Param</h5>
<div class="paragraph">
<p>A mapped param is a <code>Param</code> instance who&#8217;s entity definition has been annotated with <code>@MapsTo.Type</code>. A mapped param is represented by the interface <code>MappedParam</code>.</p>
</div>
<div class="paragraph">
<p>The variable <code>mappedEntity</code> in the <code>SampleEntity.java</code> domain entity would be constructed by the Framework as a <code>MappedParam</code>.</p>
</div>
<div class="paragraph">
<p>For more information about mapped params and their behaviors, see <a href="#configuration-mapping">Mapping params</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="param-state-introduction-transient">Transient Param</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="domain-model-param-state">1.5.4. State</h4>
<div class="paragraph">
<p>The methods <code>getState()</code> and <code>setState(&#8230;&#8203;)</code> of <code>Param</code> are available for retrieving and setting the stored value of a param located at a particular path.</p>
</div>
<div class="paragraph">
<p>For example, consider working with a param at the domain level using the following Domain Entity definition:</p>
</div>
<div class="listingblock">
<div class="title">Sample Domain Entity POJO</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_object</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleObject</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> a;
    <span class="directive">private</span> NestedObject1 b;

    <span class="annotation">@Model</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">NestedObject1</span> {

        <span class="directive">private</span> <span class="predefined-type">String</span> c;
        <span class="directive">private</span> NestedObject2 d;
    }

    <span class="annotation">@Model</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">NestedObject2</span> {

        <span class="directive">private</span> <span class="predefined-type">String</span> e;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Consider also that one domain entity of <code>SampleObject</code> has been created with <a href="#param-pathing-ref-id">RefId</a> = 1, and has been set with the following data:</p>
</div>
<div class="listingblock">
<div class="title">Set State Sample JSON</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">d</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">e</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span>
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that the framework will have created params for the <code>sample_object</code> domain entity with <a href="#param-pathing-ref-id">RefId</a> = 1, and the user will be able to retrieve that data using the framework&#8217;s DSL. The framework DSL to retrieve this item might look like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/p/sample_object:1/_get</pre>
</div>
</div>
<div class="paragraph">
<p>The framework retrieves state by recursively iterating over a param&#8217;s child params (also commonly referred to as nested params). If thinking of <code>/p/sample_object:1</code> as the root entity, then using the domain entity definition for <code>SampleObject</code>, the children entities would look like the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>/p/sample_object:1</p>
</li>
<li>
<p>/p/sample_object:1/a</p>
</li>
<li>
<p>/p/sample_object:1/b</p>
</li>
<li>
<p>/p/sample_object:1/b/c</p>
</li>
<li>
<p>/p/sample_object:1/b/d</p>
</li>
<li>
<p>/p/sample_object:1/b/d/e</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_efficiency">Efficiency</h5>
<div class="paragraph">
<p>For the sake of effiency, it is important to be aware at a high level of how the framework is handling operations regarding state. When working with simple domain entities, such as an individual String or Integer the operation is straightforward. When working at a layer which contains nested paths, caution should be exercised to understand if the get/set state is truly needed at that layer to avoid invoking unnecessary operations.</p>
</div>
<div class="paragraph">
<p>For the previous example, when <code>setState(&#8230;&#8203;)</code> is invoked on root domain entity using <a href="#param-pathing-ref-id">RefId</a>=1, the framework is actually invoking more than a single <code>setState(&#8230;&#8203;)</code>. See the diagram below:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/diagrams/param-state-diagram.png" alt="Param State Invocation Diagram">
</div>
</div>
<div class="paragraph">
<p>This diagram attempts to render a visual representation of how each of the <code>setState(&#8230;&#8203;)</code> invocations would occur when setting the state of a particular object in JSON. It illustrates that if a user is attempting to execute a <code>setState(&#8230;&#8203;)</code> call on the object located at <code>/p/sample_object:1</code>, 6 <code>setState(&#8230;&#8203;)</code> invocations will occur (See 1-6 in the diagram above).</p>
</div>
<div class="paragraph">
<p>Consider a scenario where only a particular value within a domain entity is needed to be set. In that case, we can target the unique param for that value by using it&#8217;s path. (e.g. update the param at <code>/p/sample_object:1/b/d/e</code> instead of the entire param at <code>/p/sample_object:1</code>. See #6 in the diagram above.) This would mean that the framework has avoided the processing of 5 extra <code>setState(&#8230;&#8203;)</code> calls, when it only needed to execute 1.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="domain-model-param-messages">1.5.5. Param messages</h4>
<div class="paragraph">
<p>Messages are available to be set into a param object that can be used in a variety of ways to display additional data to the user. While the rendering of param messages decided by specific attributes provided with a <code>Message</code> object, the use of the different types of available messages are entirely up to application to decide the manner in which they are used.</p>
</div>
<div class="sect4">
<h5 id="_displaying_messages_using_messageconditional">Displaying messages using @MessageConditional</h5>
<div class="paragraph">
<p>The easiest way to display a message is to conditionally apply a message using <code><a href="#config-annotations-message-conditional">@MessageConditional</a></code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_displaying_messages_manually">Displaying messages manually</h5>
<div class="paragraph">
<p>When a more manual approach is needed, a <code>Message</code> object can be set directly into a param object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Provided param from some source</span>
Param&lt;?&gt; p = ...;

<span class="comment">// Create a new message</span>
Message message = <span class="keyword">new</span> Message(<span class="string"><span class="delimiter">&quot;</span><span class="content">messageId</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Some message here</span><span class="delimiter">'</span></span>, Message.Type.INFO, Message.Context.INLINE, <span class="string"><span class="delimiter">&quot;</span><span class="content">css-class-1 css-class-2</span><span class="delimiter">&quot;</span></span>);

<span class="comment">// Collect any existing messages available on the param object</span>
<span class="predefined-type">Set</span>&lt;Message&gt; messageSet = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();
<span class="keyword">if</span> (!CollectionUtils.isEmpty(param.getMessages())) {
    messageSet.addAll(param.getMessages());
}

<span class="comment">// Add the newly created message</span>
messageSet.add(message);

<span class="comment">// Set the messages into the param</span>
param.setMessages(messageSet);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Clearly, there are some extra management steps when adding a message manually. Prefer to use <code><a href="#config-annotations-message-conditional">@MessageConditional</a></code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_displaying_a_global_notification_message">Displaying a global notification message</h5>
<div class="paragraph">
<p>Global notification messages in other words are <code>TOAST</code> messages. There are two kinds of messages that can be set on a <code>Param</code>. One of them is <code>Context.TOAST</code> and the other being <code>Context.INLINE</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>
<span class="annotation">@MessageConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state =='set'</span><span class="delimiter">&quot;</span></span>, isTransient=<span class="predefined-constant">true</span>, context=<span class="predefined-type">Context</span>.TOAST, message=<span class="string"><span class="delimiter">&quot;</span><span class="content">'Message is set for p1'</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Test p1</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> p1;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>
<span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Transient p2</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@MessageConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state !=null</span><span class="delimiter">&quot;</span></span>, context=<span class="predefined-type">Context</span>.TOAST, targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">'/.d/'</span><span class="delimiter">&quot;</span></span>, isTransient=<span class="predefined-constant">true</span>,  message=<span class="string"><span class="delimiter">&quot;</span><span class="content">'Global Message Set</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> p2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code has two parameters and the <code>@MessageConditional</code> on 'p1' can be read as follows - When p1 has a value of 'set', a toast message would be shown on the UI.</p>
</div>
<div class="paragraph">
<p>The toast messages are always shown at the top right corner of the screen and can either be closed on click or would go away after a few seconds.</p>
</div>
<div class="paragraph">
<p>If there is a use case to show message on navigating between pages - it can be achieved using <code>TOAST</code> messages where the target path for the message to be shown would be the path to the domain. In the example above, parameter 'p2' would have a message set at the domain if the state is not null.</p>
</div>
</div>
<div class="sect4">
<h5 id="_displaying_inline_messages">Displaying inline messages</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="_setting_the_message_type">Setting the message type</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="_preserving_messages_on_successive_loads_or_page_navigations">Preserving messages on successive loads or page navigations</h5>
<div class="paragraph">
<p>The default behavior for messages is to clear the messages on successive retrievals of the param object. This is intentionally done to support displaying a message only once. If there is a need to preserve the message on successive retrievals (such as when navigating away from a page and back to it), use the <code>isTransient</code> property as <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="title">Set a non-transient message with @MessageConditional</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Do you like apples?</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Radio</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@Values</span>(YesNo.class)
<span class="annotation">@MessageConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state =='Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/../q2</span><span class="delimiter">&quot;</span></span>, message = <span class="string"><span class="delimiter">&quot;</span><span class="content">'Apple lovers do not like oranges!'</span><span class="delimiter">&quot;</span></span>, isTransient  = <span class="predefined-constant">false</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> q1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Set a non-transient message manually</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Message message = <span class="keyword">new</span> Message(<span class="string"><span class="delimiter">&quot;</span><span class="content">messageId</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">Some message here</span><span class="delimiter">'</span></span>, Message.Type.INFO, Message.Context.INLINE, <span class="string"><span class="delimiter">&quot;</span><span class="content">css-class-1 css-class-2</span><span class="delimiter">&quot;</span></span>);
message.setTransient(<span class="predefined-constant">false</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">2. Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The core concept of the Nimbus Framework is that one is able to write the different types of configuration quickly to build an application. <em>Configuration</em> is a high-level term used to describe the code that ultimately drives the logic of the Framework. The topmost and most common type of configuration will typically be found within an application&#8217;s <em>domain entities</em>.</p>
</div>
<div class="paragraph">
<p>Several different means of configuration are available to the application through Java based annotations. As seen in several of the previous chapters, much of the emphasis of configuration is on decorating domain entity variables. The most common types of annotation configs used in an application fall under the following categories:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#view-config-annotations">View Config Annotations</a>
</td>
<td class="hdlist2">
<p>Instruct the UI to render a specific view component (e.g. textbox, calendar, accordion)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#core-config-annotations">Core Config Annotations</a>
</td>
<td class="hdlist2">
<p>Execute functional instructions or commands within the Framework</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#config-annotations-conditional">Conditional Config Annotations</a>
</td>
<td class="hdlist2">
<p>Execute common functional instructions based on boolean SpEL expressions</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This chapter will explore and explain the numerous configuration features of the Framework.</p>
</div>
<div class="sect2">
<h3 id="configuration-writing-view-config">2.1. Writing view configuration</h3>
<div class="paragraph">
<p>This section is intended to explain detailed concepts of writing view configuration. At it&#8217;s core, view configuration is nothing but a <a href="#domain-model">domain entity</a>&#8230;&#8203; just another object that is provided for the framework to create and manage. The only difference is that it has additional configurative decorators that define behaviors (such as how the UI should render the final view component).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When reading this chapter, please note that explicit details for how an individual view configuration annotation is used can be found in the API or in the <a href="#view-config-annotations">Appendix</a>. This chapter is more dedicated to common scenarios and larger concepts that need to be explained when writing view configuration.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="configuration-writing-view-config-basic-hierarchy">2.1.1. Creating a simple view domain</h4>
<div class="paragraph">
<p>Creating a view domain often follows a common design structure containing the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="#view-config-annotation-domain">@Domain</a></code></p>
</li>
<li>
<p><code><a href="#view-config-annotation-page">@Page</a></code></p>
</li>
<li>
<p><code><a href="#view-config-annotation-page">@Tile</a></code></p>
</li>
<li>
<p><code><a href="#view-config-annotation-page">@Section</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A simple hello world template can be seen below using this structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">homepage</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.websocket })
<span class="annotation">@Repo</span>(value = Repo.Database.rep_none, cache = Repo.Cache.rep_device)
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRHomepage</span> {

    <span class="annotation">@Page</span>(defaultPage = <span class="predefined-constant">true</span>)
    <span class="directive">private</span> VPMain vpMain;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VPMain</span> {

        <span class="annotation">@Tile</span>
        <span class="directive">private</span> VTMain vtMain;
    }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VTMain</span> {

        <span class="annotation">@Section</span>
        <span class="directive">private</span> VSMain vsMain;
    }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSMain</span> {

        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World!</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@Paragraph</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> hello;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-navigating-pages">2.1.2. Navigating between pages</h4>
<div class="sect4">
<h5 id="_external_page">External page</h5>
<div class="paragraph">
<p>External page navigation can be achieved using a combination of <code><a href="#view-config-annotation-link">@Link</a></code> and <code><a href="#core-config-annotation-config">@Config</a></code> through the use of <code>_nav</code> and query parameter <code>redirectUrl</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Nav Externally</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Link</span>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/_nav?redirectUrl=https://mywebsite.com</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> navExternally;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-writing-view-config-layouts">2.1.3. Defining layouts</h4>
<div class="paragraph">
<p>A layout is just another view domain which acts as a reusable view for other view domains through the use of <code><a href="#view-config-annotation-view-root">@ViewRoot</a></code>.</p>
</div>
<div class="listingblock">
<div class="title">A simple layout definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">home</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.websocket})
<span class="annotation">@Repo</span>(value = Database.rep_none, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VLHome</span> {

    <span class="annotation">@Page</span>
    <span class="directive">private</span> VPHome vpHome;

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VPHome</span> {

        <span class="annotation">@Section</span>(<span class="predefined-type">Type</span>.HEADER)
        <span class="directive">private</span> VSHomeHeader vsHomeHeader;

        <span class="annotation">@MenuPanel</span>
        <span class="directive">private</span> VSGlobalNav vsGlobalNav;
    }

    <span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSGlobalNav</span> { ... }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration is similar to any view domain with a page that has a section and a menu panel. It is important to note that '@MenuPanel' and '@Section(Type.HEADER)' are supported in a '@Page'.
Once the global layout(header, menupanel and footer) is defined, every other subflow could have its own embedded layout. For example, once the user lands on the home page, he/she can be navigated to a new screen that has new header, new side navigation panel in additional to the global header, footer.</p>
</div>
<div class="paragraph">
<p>So for the above example, a new layout domain needs to be configured and that layout domain alias needs to be configured in the view domain.</p>
</div>
<div class="sect4">
<h5 id="_configuring_a_view_domain_to_use_a_layout">Configuring a view domain to use a layout</h5>
<div class="paragraph">
<p><code><a href="#view-config-annotation-view-root">@ViewRoot</a></code> is used to tell the UI framework which layout definition to use by it&#8217;s domain alias.</p>
</div>
<div class="listingblock">
<div class="title">Sample view domain configuration with the "home" layout.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">newviewroot</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.websocket})
<span class="annotation">@Repo</span>(value = Database.rep_none, cache = Cache.rep_device)
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="content">home</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRNewViewRoot</span> {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code illustrates how to bind the <code>"home"</code> layout to the <code>"newviewroot"</code> view domain so that when the view domain is rendered the corresponding layout renders along with it.</p>
</div>
</div>
<div class="sect4">
<h5 id="_supported_components">Supported components</h5>
<div class="paragraph">
<p>A layout is nothing more than a simple view domain definition with a specific set of components that the UI framework provides rendering support for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>*<code><a href="#view-config-annotation-section">@Section</a></code></p>
</li>
<li>
<p><code><a href="#view-config-annotation-menu-panel">@MenuPanel</a></code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
*<code><a href="#view-config-annotation-section">@Section</a></code> has a number of <code>Type</code> values that can be provided. See the <code>Section.Type</code> javadocs for more information.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_defining_the_home_layout">Defining the "home" layout</h5>
<div class="paragraph">
<p>The framework expects that there is a default layout defined with a domain alias <code>"home"</code>. This would always be rendered for any application that has the global header, footer, etc. This is commonly referred to as the "global layout".</p>
</div>
</div>
<div class="sect4">
<h5 id="_defining_embedded_layouts">Defining embedded layouts</h5>
<div class="paragraph">
<p>Once the global layout is defined every other page might need to have it&#8217;s own embedded layout. For example, once the user lands on the home page he/she can be navigated to a new screen that has a new header and a new side navigation panel in addition to the components rendered via the global layout.</p>
</div>
<div class="listingblock">
<div class="title">An embedded layout</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">innerlayout</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.websocket})
<span class="annotation">@Repo</span>(value = Database.rep_none, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VLInnerLayout</span> {
    ...
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_defining_a_view_with_no_layout">Defining a view with no layout</h5>
<div class="paragraph">
<p>If no layout is needed, simply give <code>@ViewRoot("")</code> with an empty value.</p>
</div>
<div class="listingblock">
<div class="title">A view domain with no layout</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">newviewroot</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.websocket})
<span class="annotation">@Repo</span>(value = Database.rep_none, cache = Cache.rep_device)
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRNewViewRoot</span> {
    ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-writing-view-config-labels">2.1.4. Working with labels</h4>
<div class="paragraph">
<p><code>@Label</code> is used to display descriptive information for the user in coordination with any valid <a href="#view-config-annotations">view annotations</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value here: </span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> p1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each <a href="#view-config-annotations">view annotation component</a> has it&#8217;s own definition for how label related information should be rendered, however most UI components will typically keep the display consistent.</p>
</div>
<div class="sect4">
<h5 id="_spel_support">SpEL Support</h5>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions">Spring expression language (SpEL)</a> property replacement is allowed here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">${env.labels.common.p1}</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> p1;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_command_path_resolver_support">Command Path Resolver Support</h5>
<div class="paragraph">
<p><a href="#param-pathing-variable-resolver">Path Variable Resolver</a> support is available here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello &lt;!/../p1!&gt;!</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> p1;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_adding_help_text">Adding help text</h5>
<div class="paragraph">
<p>Additional information about how to use the rendred component can be supplied using the <code>helpText</code> feature.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value here: </span><span class="delimiter">&quot;</span></span>, helpText = <span class="string"><span class="delimiter">&quot;</span><span class="content">Please use MM/YYYY format.</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> expiration;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-component-styling">2.1.5. Styling components with configuration</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="configuration-printing">2.1.6. Printing content</h4>
<div class="paragraph">
<p>The <code>@Button</code> component can be configured with <code>style = Button.Style.PRINT</code>. This will instruct the UI on click of the rendered button to open a printable view of content that can easily be printed using the browser&#8217;s native print dialog window. The printed content is determined by supplying <code>printPath = "[PARAM_PATH_TO_CONTENT]"</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Print Demo</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>(style = <span class="predefined-type">Button</span>.Style.PRINT, printPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/domain/page/tile/section</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> printButton;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous example opens a print dialog with the rendered HTML content resolved from the <code>@Button</code> attribute: <code>printPath</code>, or the content rendered from <code>"/domain/page/tile/section"</code>, in a new window/tab.</p>
</div>
<div class="sect4">
<h5 id="_customizing_printable_content">Customizing printable content</h5>
<div class="paragraph">
<p>The rendered printable content can be configured by decorating print button definition with <code>@PrintConfig</code>. This allows the configurer the ability to give detailed instructions on how the content should be rendered or how the printing experience should behave.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Print Demo</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>(style = <span class="predefined-type">Button</span>.Style.PRINT, printPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/domain/page/tile/section</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@PrintConfig</span>(useAppStyles = <span class="predefined-constant">true</span>, closeAfterPrint = <span class="predefined-constant">false</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> printButton;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Only certain components are allowed to be "printable", such as container-based elements. See the <code>@PrintConfig</code> javadocs for more information on which components are able to be printed.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<code>@PrintConfig</code> values may need to be different under different scenarios. In that case, define multiple view config fields (e.g. another <code>@Button</code>) and conditionally hide or show the print button that performs the desired functionality.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_controlling_the_look_and_feel_of_printable_content">Controlling the look and feel of printable content</h5>
<div class="paragraph">
<p>The default behavior of a clicking on a "print button" will open the rendered content in a new browser tab or page with no additional styles added. Styling can be configured by providing additional details for <code>@PrintConfig</code>. See the <code>@PrintConfig</code> javadocs for more details.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-ui-errors">2.1.7. UI Error Messages</h4>
<div class="paragraph">
<p>All uncaught exceptions within the framework are handled by a global exception handler and delivered to the UI to be rendered and displayed to the user. This includes exceptions type that occur from within the framework itself or client managed beans. The <code>WebActionControllerAdvice</code> class is a good starting point for a deep-dive on how the exception handling response is delivered.</p>
</div>
<div class="sect4">
<h5 id="_providing_custom_messages_for_an_exception">Providing custom messages for an exception</h5>
<div class="paragraph">
<p>The UI offers some generic customization options for unhandled exceptions. When an unhandled exception makes it&#8217;s way to the UI, a default error message as well as a unique identifying id will be displayed to the user. By default, the error message is engineer-friendly but is not likely descriptive to the user.</p>
</div>
<div class="paragraph">
<p>Custom messages can be generically be defined for an exception type by defining the following in the <code>application.yml</code> configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">application</span>:
  <span class="key">exceptions</span>:
    <span class="key">com.acme.foo.exceptions.MySpecialException</span>: <span class="string"><span class="content">Some custom message here</span></span>
    <span class="key">java.lang.NullPointerException</span>: <span class="string"><span class="content">Something was null</span></span></code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_reserved_exception_keywords">Reserved exception keywords</h6>
<div class="paragraph">
<p>There are certain reserved keywords that when used in defining custom exception messages in <code>application.yml</code> that will be replaced.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERR.UNIQUEID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique generated error id.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_defining_a_custom_exception_handler">Defining a custom exception handler</h5>
<div class="paragraph">
<p>The <code>@ExceptionHandler</code> defined within the framework is a catch all for all types of <code>Throwable</code> exceptions.  Custom logic can be applied by defining a <code>@ExceptionHandler</code> within a nimbus client application to return a desirable response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Autowired</span>
CommandTransactionInterceptor interceptor;

<span class="annotation">@ExceptionHandler</span>(<span class="exception">NullPointerException</span>.class)
<span class="annotation">@ResponseBody</span>
<span class="directive">public</span> ResponseEntity&lt;MultiExecuteOutput&gt; exception(<span class="exception">NullPointerException</span> exception) {
    HttpHeaders headers = <span class="keyword">new</span> HttpHeaders();
    ExecuteOutput&lt;?&gt; executeOutput = <span class="keyword">new</span> ExecuteOutput&lt;&gt;();
    executeOutput.setExecuteException(<span class="keyword">new</span> ExecuteError(exception.getClass(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Some custom message</span><span class="delimiter">&quot;</span></span>));
    MultiExecuteOutput output = interceptor.handleResponse(executeOutput);
    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(output, headers, HttpStatus.INTERNAL_SERVER_ERROR);
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>CommandTransactionInterceptor</code> provides some utility methods for building the expected response the UI expects for a server side error.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_suppressing_ui_error_messages">Suppressing UI error messages</h5>
<div class="paragraph">
<p>The UI will not render popup error messages if the error message that is returned from the server is <code>null</code> or empty. Simply set the error message to be empty to suppress a UI error message from being displayed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">application</span>:
  <span class="key">exceptions</span>:
    <span class="comment"># Displays &quot;Some cool exception message&quot;</span>
    <span class="key">com.foo.MyException</span>: <span class="string"><span class="content">Some cool exception message</span></span>

    <span class="comment"># Does not render!</span>
    <span class="key">java.lang.NullPointerException</span>:</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-data-source">2.2. Configuring data source connections</h3>
<div class="paragraph">
<p>TODO</p>
</div>
<div class="sect3">
<h4 id="configuration-data-source-mongodb">2.2.1. MongoDB</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="configuration-data-source-webservice">2.2.2. External web services</h4>
<div class="paragraph">
<p>Domain entity values can be persisted and retrieved using an external web service as the backing data source. To achieve this, a REST call must be configured to be sent to a web service that will provide or store the data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">ext_client</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Repo</span>(value = Database.rep_ws, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>(callSuper = <span class="predefined-constant">true</span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExtClient</span> { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice <code>@Repo(value = Database.rep_ws)</code> in the code above. This indicates that the framework will treat the domain entity for <code>ExtClient</code> as having an external web service as it&#8217;s data store. One additional configuration for <code>ext.repository.targetUrl.[ALIAS]</code> in <code>application.yml</code> is needed to define the entry point to the external web service.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="key">ext</span>:
  <span class="key">repository</span>:
    <span class="key">targetUrl</span>:
      <span class="key">ext_client</span>: <span class="string"><span class="content">https://acoolwebservice.com/</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration given, requests that look like: <code><a href="http://localhost:8080/a/b/p/ext_client/_get" class="bare">http://localhost:8080/a/b/p/ext_client/_get</a></code> now become: <code><a href="https://acoolwebservice.com/a/b/p/ext_client/_get" class="bare">https://acoolwebservice.com/a/b/p/ext_client/_get</a></code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuration-data-source-custom">2.2.3. Custom repository implementations</h4>
<div class="paragraph">
<p>The framework offers the ability to configure custom repository implementations that allows users to configure anything that is achievable from within the <code>ModelRepository</code> interface.</p>
</div>
<div class="paragraph">
<p>To configure a domain entity definition to use a custom model repository implementation, use <code>@Repo</code> with <code>Database.rep_custom</code> and <code>modelRepositoryBean</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_core</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.persistence })
<span class="annotation">@Repo</span>(value = Database.rep_custom, modelRepositoryBean = <span class="string"><span class="delimiter">&quot;</span><span class="content">customRepositoryBean</span><span class="delimiter">&quot;</span></span>, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleCoreEntity</span> {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and create a <code>ModelRepository</code> Spring bean using the qualifier as the value provided for <code>modelRepositoryBean</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ReallyCoolModelRepository</span> <span class="directive">implements</span> ModelRepository {
    ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Bean</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">default.customRepositoryBean</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> ModelRepository reallyCoolModelRepository() {
    <span class="keyword">return</span> <span class="keyword">new</span> ReallyCoolModelRepository();
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Consider using <code>rep_custom</code> when needing to configure different data sources or multiple databases for one or more domain entity definitions.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-mapping">2.3. Mapping params</h3>
<div class="paragraph">
<p>The section <a href="#domain-model-core-vs-view">Core versus View</a> explains the difference between a <strong>core domain entity</strong> and a <strong>view domain entity</strong>. While a <strong>core domain entity</strong> is the primary holder of the data, the <strong>view domain entity</strong> is primarily concerned with the display of the data.</p>
</div>
<div class="paragraph">
<p>Such a distinction is necessary as view domain entities tend to be hierarchical in nature, whereas core domain entites tend to be more flat by comparison. It also allows for us to separate the view configuration when interacting with the UI rendered components and the core configuration our domain entities use when interacting with the underlying database.</p>
</div>
<div class="paragraph">
<p>To establish a connection between the core and the view (similar to how an MVC application does), the Framework introduces the concept of <strong>mapping</strong> the state between <code>Param</code> instances. This provides for a two-way binding between the state of mapped core and view params in that when the state of the core is updated, the state of the view will also be updated. The same is true when updating the state of a mapped view param, in that the state of the core param would be updated.</p>
</div>
<div class="sect3">
<h4 id="configuration-mapping-configuring-a-mapping">2.3.1. Configuring a Mapping</h4>
<div class="paragraph">
<p>The process for defining a mapping between params is relatively straightforward.  See the following example:</p>
</div>
<div class="listingblock">
<div class="title">Sample Core Entity</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_core</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.persistence })
<span class="annotation">@Repo</span>(value = Database.rep_mongodb, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleCoreEntity</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class represents the definition of our <strong>core domain entity</strong>. Params created from this defintion will be mapped to from view Params.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_view1</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.websocket })
<span class="annotation">@Repo</span>(Database.rep_none)
<span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class) <b class="conum">(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRSampleView1</span> {

    <span class="comment">// Page/Tile/Section/Form declarations omitted for brevity.</span>

    <span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class) <b class="conum">(2)</b>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleForm</span> {

        <span class="annotation">@TextBox</span>
        <span class="annotation">@MapsTo</span>.Path <b class="conum">(3)</b>
        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter name: </span><span class="delimiter">&quot;</span></span>)
        <span class="directive">private</span> <span class="predefined-type">String</span> name;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class represents the definition of a <strong>view domain entity</strong>.</p>
</div>
<div class="sect4">
<h5 id="_mapping_a_type">Mapping a Type</h5>
<div class="paragraph">
<p>Providing <code>@MapsTo.Type</code> gives instruction to the framework that the object structure it decorates should map children parameters to the given class. Notice that both <code>VRSampleView1</code> and <code>SampleForm</code> map to <code>SampleCoreEntity.class</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When using <code>@MapsTo.Path</code>, the framework requires that <code>@MapsTo.Type</code> be provided as a decorator to the parent model, or else an <code>InvalidConfigException</code> will be thrown.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_mapping_a_param">Mapping a Param</h5>
<div class="paragraph">
<p>Now that <code>name</code> is decorated with <code>@MapsTo.Path</code>, the Framework knows that the textbox component defined at <code>SampleForm.name</code> is mapped to <code>SampleCoreEntity.name</code>. Hence the value displayed in the textbox would be equal to the state found in <code>SampleCoreEntity.name</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_an_view_entity_to_a_core_entity_with_a_different_name">2.3.2. Mapping an view entity to a core entity with a different name</h4>
<div class="paragraph">
<p>A common scenario when writing configuration is that your view domain&#8217;s variable names may not match the variable names within the core domain. This is allowable. Using a concept similar to <em>overriding</em>, the mapped field be changed by specifying the path (relative to the core domain root). For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleForm</span> {

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@MapsTo</span>.Path(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello: </span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> personName;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Since <code>"name"</code> is provided to <code>@MapsTo.Path</code>, <code>personName</code> would map to the <code>name</code> in the core domain instead of <code>personName</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_with_hierarchies">2.3.3. Mapping with hierarchies</h4>
<div class="paragraph">
<p>Since <code>@MapsTo.Path</code> accepts a string containing a relative path from the core root domain object, it is possible to map between hierarchies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_core</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.persistence })
<span class="annotation">@Repo</span>(value = Database.rep_mongodb, cache = Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleCoreEntity</span> {

    <span class="directive">private</span> Person emergencyContact1;
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> name;
    <span class="directive">private</span> Address address;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleForm</span> {

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@MapsTo</span>.Path(<span class="string"><span class="delimiter">&quot;</span><span class="content">/emergencyContact1/name</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello: </span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> personName;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Maps to the value at <code>name</code> of <code>emergencyContact1</code> declared in <code>SampleCoreEntity</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_mapping_at_multiple_layers">2.3.4. Mapping at multiple layers</h4>
<div class="paragraph">
<p>Since <code>@MapsTo.Type</code> is given at the class definition level, it is possible to define nested layers of mapping by unlinking the child parameter from the parent&#8217;s <code>@MapsTo.Type</code> using <code>@MapsTo.Path(linked = false)</code>. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(SampleCoreEntity.class) <b class="conum">(1)</b>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleSection</span> {

    <span class="annotation">@TextBox</span>
    <span class="annotation">@MapsTo</span>.Path
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="annotation">@CardDetail</span>
    <span class="annotation">@MapsTo</span>.Path(linked = <span class="predefined-constant">false</span>) <b class="conum">(2)</b>
    <span class="directive">private</span> VCD1 vcd1;

    <span class="comment">// Internal classes</span>

    <span class="annotation">@MapsTo</span>.Type(Person.class) <b class="conum">(3)</b>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCD1</span> { ... }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The parent <code>SampleSection</code> is mapped to <code>SampleCoreEntity</code>.</p>
</li>
<li>
<p>The child <code>vcd1</code> is no longer mapped to <code>SampleCoreEntity</code>.</p>
</li>
<li>
<p>The child <code>vcd1</code> is now mapped to <code>Person</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-executing-logic">2.4. Defining executable logic</h3>
<div class="sect3">
<h4 id="_executing_config_statements">2.4.1. Executing @Config statements</h4>
<div class="paragraph">
<p>A majority of configuration is executed using the <code><a href="#core-config-annotation-config">@Config</a></code> decoration to invoke a <a href="#command-dsl">Nimbus Command DSL statement</a>.</p>
</div>
<div class="paragraph">
<p>The <code>WebCommandDispatcher</code> is responsible for handing off all <code>HTTP</code> requests to the <code>DefaultCommandExecutorGateway</code>, which is ultimately responsible for executing any <code>@Config</code> statements. Hence, any HTTP request with a valid param path in the command DSL would have the statements given in any decorating <code>@Config</code> annotations executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">dashboard</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.websocket })
<span class="annotation">@Repo</span>(value = Repo.Database.rep_none, cache = Repo.Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRDashboard</span> {

    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p2/_get</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> p1;

    <span class="directive">private</span> <span class="predefined-type">String</span> p2;

    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p2/_get</span><span class="delimiter">&quot;</span></span>) <b class="conum">(2)</b>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p2/_delete</span><span class="delimiter">&quot;</span></span>) <b class="conum">(3)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> p3;

    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p3/_get</span><span class="delimiter">&quot;</span></span>) <b class="conum">(4)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> p4;
}</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">Single @Config Execution</div>
<p>If the application is up and running and the following HTTP GET call is made:</p>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/org/app/p/dashboard/p1/_get" class="bare">http://localhost:8080/org/app/p/dashboard/p1/_get</a></code></p>
</div>
<div class="paragraph">
<p>Then statement &lt;1&gt; would be executed.</p>
</div>
<div class="paragraph">
<div class="title">Multiple @Config Execution</div>
<p>The execution of multiple (more than one <code>@Config</code> decorating a field) <code>@Config</code> is supported. This is as suggested by making an HTTP GET call to:</p>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/org/app/p/dashboard/p3/_get" class="bare">http://localhost:8080/org/app/p/dashboard/p3/_get</a></code></p>
</div>
<div class="paragraph">
<p>This would execute both statements &lt;2&gt; and &lt;3&gt;.</p>
</div>
<div class="paragraph">
<div class="title">Transitive @Config Execution</div>
<p>The execution of transitive (a <code>@Config</code> which invokes another <code>@Config</code>) <code>@Config</code> is supported. This is as suggested by making an HTTP GET call to:</p>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/org/app/p/dashboard/p4/_get" class="bare">http://localhost:8080/org/app/p/dashboard/p4/_get</a></code></p>
</div>
<div class="paragraph">
<p>This would execute statement &lt;4&gt;, which would then execute both statements &lt;2&gt; and &lt;3&gt;.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuration-executing-logic-initialize">Use @Initialize to execute a set of @Configs after page load</h5>
<div class="paragraph">
<p><code><a href="#core-config-annotation-initialize">@Initialize</a></code> simply informs the UI framework to invoke a <code><a href="#command-dsl-actions-get">_get</a></code> action call to the parameter that <code>@Initialize</code> is decorating. Specifically, it works for components also annotated with <code><a href="#view-config-annotation-section">@Section</a></code> and only after the page has rendered. So using <code>@Initialize</code> is a way to trigger any configs, events, or state changes to execute after the page has rendered.</p>
</div>
<div class="paragraph">
<p>Consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// page, tile omitted for brevity (assume path to this point is: &quot;/sampleview/vpMain/vtMain&quot;)</span>

<span class="annotation">@Section</span>
<span class="annotation">@Initialize</span> <b class="conum">(1)</b>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">some-command-query-dsl-here</span><span class="delimiter">&quot;</span></span>) <b class="conum">(2)</b>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">some-other-command-query-dsl-here</span><span class="delimiter">&quot;</span></span>) <b class="conum">(3)</b>
<span class="directive">private</span> VSSampleSection vsSampleSection;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSSampleSection</span> { ... }</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Ensures that the configs 2 and 3 would be executed once the page renders.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-rules">2.5. Rule configuration</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-framework-events">2.6. Events</h3>
<div class="paragraph">
<p>The framework offers a set of hooks (called <code>events</code>) that can be used to define executable logic to be exected after the event takes place. One such example is any of the conditional event handlers used to drive the conditional annotations.</p>
</div>
<div class="sect3">
<h4 id="configuration-framework-predefined-events">2.6.1. Predefined events</h4>
<div class="paragraph">
<p>The following list shows the predefined events available out-of-the-box:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-param-create">OnParamCreate</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-root-command-execute">OnRootCommandExecute</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-runtime-start">OnRuntimeStart</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-runtime-stop">OnRuntimeStop</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-self-command-execute">OnSelfCommandExecute</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-state-change">OnStateChange</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-state-load">OnStateLoad</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-state-load-get">OnStateLoadGet</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-on-state-load-new">OnStateLoadNew</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#framework-events-script">Script</a> 
</td>
<td class="hdlist2">
<p>TODO</p>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="framework-events-on-param-create">OnParamCreate</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-root-command-execute">OnRootCommandExecute</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-runtime-start">OnRuntimeStart</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-runtime-stop">OnRuntimeStop</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-self-command-execute">OnSelfCommandExecute</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-state-change">OnStateChange</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-state-load">OnStateLoad</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-state-load-get">OnStateLoadGet</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-on-state-load-new">OnStateLoadNew</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="framework-events-script">Script</h5>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuration-framework-custom-event-handlers">2.6.2. Creating a custom event handler</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-bpmn">2.7. Business process model and notation (BPMN)</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-changelog">2.8. Change log</h3>
<div class="paragraph">
<p>Any command execution now gets captured in a collection called <em>changelog</em> in mongodb.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">ChangeLog Attributes</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 13.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-center valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">on</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command config execution date &amp; time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">by</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command config execution by userId</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">root entity on which command config is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">refId</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">root entity id on which command config is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">action</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">action performed during command config execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command config complete uri</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path of the param path that is being updated(_replace/_update) as part of command config execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value of the  param that is being updated (_replace/_update) as part of command config execution</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_usage_examples">2.8.1. Usage Examples</h4>
<div class="paragraph">
<p>Lets take the example domain named Test with an alias "testdsl". it has a form with a button marked with @Configs.</p>
</div>
<div class="listingblock">
<div class="title">Test.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">testdsl</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Repo</span>(Database.rep_mongodb)
<span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Test</span> <span class="directive">extends</span> IdString{

    <span class="annotation">@Ignore</span>
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;

    <span class="directive">private</span> <span class="predefined-type">String</span> status;

    <span class="annotation">@Form</span>
    <span class="directive">private</span> Form form;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Form</span> {

        <span class="annotation">@Button</span>
        <span class="annotation">@Configs</span> ( {
            <span class="annotation">@Config</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">/p/testdsl2/_new</span><span class="delimiter">&quot;</span></span>),
            <span class="annotation">@Config</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">/status/_update?rawPayload=</span><span class="char">\&quot;</span><span class="content">Test_Status</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>)
        })
        <span class="directive">private</span> <span class="predefined-type">String</span> button;

    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In above example, when the user (logged user 'testUser') triggers an action by clicking submit button (testdsl has a <a href="#param-pathing-ref-id">RefId</a> of 1), below command urls would get invoked in sequence:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>../p/testdsl:1/form/button/_get?b=$execute</p>
</li>
<li>
<p>../p/testdsl2/_new</p>
</li>
<li>
<p>../p/testdsl:1/status/_update?rawPayalod=\"Test_Status\"</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>changelog collection would now contain entries for all 3 command executions:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">ChangeLog collection entries</caption>
<colgroup>
<col style="width: 12%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">on</th>
<th class="tableblock halign-center valign-top">by</th>
<th class="tableblock halign-center valign-top">root</th>
<th class="tableblock halign-center valign-top">refId</th>
<th class="tableblock halign-center valign-top">action</th>
<th class="tableblock halign-center valign-top">url</th>
<th class="tableblock halign-center valign-top">path</th>
<th class="tableblock halign-left valign-top">value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>current datetime</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testUser</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testdsl</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">_get</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">/p/testdsl/form/button/_get?b=$execute</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>current datetime</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testUser</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testdsl2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">_new</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">/p/testdsl2/_new</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>current datetime</em></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testUser</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">testdsl</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">_update</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">/p/testdsl/status/_update?rawPayload=\"Test_Status\"</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-validation">2.9. Validation</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Only client side validation is supported today.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_client_side_form_validation">2.9.1. Client side form validation</h4>
<div class="paragraph">
<p>The Nimbus Framework supports client side validation by offering support for JSR Validation annotations, specifically from the <code>javax.validation.constraints</code> package. This includes annotations such as <code>@NotNull</code>, <code>@Min</code>, <code>@Max</code>, etc. Simply decorate a field underneath a <code>@Form</code> with a JSR supported validation and include a <code>@Button</code> with type <code>Button.Type.submit</code> to enable client side validation. See the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Form</span>
<span class="directive">private</span> VFSample vfSample;

<span class="annotation">@MapsTo</span>.Type(Person.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFSample</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">First Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>
    <span class="annotation">@NotNull</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> firstName;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Submit</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Button</span>(style = <span class="predefined-type">Button</span>.Style.PRIMARY, type = <span class="predefined-type">Button</span>.Type.submit)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../_update</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> submit;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This sample would result in <code>firstName</code> being a <strong>required</strong> field.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Currently, any view parameter that is expected to use form validation <strong>must not have the same variable name</strong> as any other field under the form hierarchy. Java restricts duplicate variable names for class, but not within nested classes. This is a current limitation of the UI validation framework.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="configuration-validation-messages">2.9.2. Validation Messages</h4>
<div class="paragraph">
<p>Validation messages that will be displayed to the end-user using <code>javax.validation.constraints</code> annotations are configurable with respect to the following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Messages explicitly set in the corresponding <code>javax.validation.constraints</code> annotation&#8217;s <code>message</code> attribute.</p>
</li>
<li>
<p>Default messages defined within client jar (application.properties and YAML variants).</p>
</li>
<li>
<p>Default messages defined within the Nimbus Framework</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_default_message">Default Message</h5>
<div class="paragraph">
<p>A set of default values are provided by the framework for supported annotations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value:</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous code example would display the message <code>Field is required.</code>, as is the default message for <code>@NotNull</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_overriding_a_default_message">Overriding a Default Message</h5>
<div class="paragraph">
<p>The default validation message for an annotation can be overriden by supplying a key/value definition within the client jar&#8217;s application.properties or YAML variants.</p>
</div>
<div class="paragraph">
<p>Each <code>javax.validation.constraints</code> annotation has a unique message key set into it&#8217;s <code>message</code> attribute by default, which is used by the framework to determine the appropriate default message value. Simply provide the unique key for the <code>javax.validation.constraints</code> annotation to replace the default value across the application.</p>
</div>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span class="comment"># Default Validaton Message Overrides</span>
<span class="key">javax</span>:
  <span class="key">validation</span>:
    <span class="key">constraints</span>:
      <span class="key">NotNull</span>:
        <span class="key">message</span>: <span class="string"><span class="content">Very Important Field!</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">SampleViewEntity.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value:</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would result in <code>Very Important Field!</code> being displayed on a validation error.</p>
</div>
</div>
<div class="sect4">
<h5 id="_set_an_explicit_validation_message">Set an Explicit Validation Message</h5>
<div class="paragraph">
<p>To explicitely set a validation message for a field, provide a value for the <code>message</code> attribute of the <code>javax.validation.constraints</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value:</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(message = <span class="string"><span class="delimiter">&quot;</span><span class="content">Not allowed to be empty!</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_spel_property_resolver_support">SpEL Property Resolver Support</h6>
<div class="paragraph">
<p>As SpEL Property Resolver support is included in all annotation attributes, it can also be utilized within the <code>message</code> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Enter a value:</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(message = <span class="string"><span class="delimiter">&quot;</span><span class="content">${sample.form.textbox.notnull}</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample messages_en-US.properties</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">sample.form.textbox.notnull=REQUIRED</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command-dsl">3. The Command Query DSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>Command</em> is the instruction that the Framework understands to execute and come back with an output. It is similar to writing the traditional method calls for an action (such as a button click) to perform business logic, but attempts to introduce a standardized process via the use of a domain specific language (DSL) that the Framework can interpret. This is called the Command Query DSL.</p>
</div>
<div class="paragraph">
<p>The Command Query DSL is represented in URL format (commonly referred to as the <em>Command URL</em>) and is based on <a href="http://www.querydsl.com/">Query DSL</a>.</p>
</div>
<div class="paragraph">
<p>Apart from the <em>host</em> (typical "host", or provider, of the application utilizing the Framework), the DSL&#8217;s Command URL can be broken down into four main subsections of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Client-alias</strong> - <em>identification path used to segregate data/logic for one or multiple "clients". Supports clientCode, leaf-org-id, and appAlias</em></p>
</li>
<li>
<p><strong>Domain-alias</strong> - <em>identification path within the framework to locate a defined object, or domain entity</em></p>
</li>
<li>
<p><strong>Action</strong> - <em>instruction used to identify the operation to perform on the object identified by domain-root</em></p>
</li>
<li>
<p><strong>Query Parameters</strong> - <em>A standard set of query parameters</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following diagram shows each of the subsections of the Command Query DSL mentioned above in various examples in an "exploded" view:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/technicalarchitecture/command-dsl-url-pattern.jpeg" alt="Command DSL Pattern">
</div>
<div class="title">Figure 1. Command DSL Pattern Diagram</div>
</div>
<div class="paragraph">
<p>In the diagram above, several examples of Command URL&#8217;s can be seen. By splitting the URL into it&#8217;s individual parts, the diagram represents each of the Command URL&#8217;s as a vertical section. Requests sent to the Framework using each of these URLs perform different logic as defined by the Framework. The sections that follow will explain the logic defined for each of the individual subections of the Command URL as well as expain the Command Query DSL in-depth.</p>
</div>
<div class="sect2">
<h3 id="command-dsl-client-alias">3.1. Client Alias</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="command-dsl-domain-alias">3.2. Domain Alias</h3>
<div class="paragraph">
<p>The <em>domain alias</em> (also referred to as <em>path</em>) is the essential and active portion of working with the Command Query DSL. It is what is used to identify which object, or <em>domain entity</em>, the framework should perform a defined action on.</p>
</div>
<div class="paragraph">
<p>Each <em>domain alias</em> starts with a <em>domain root</em>, which is the highest level in the domain path used for identification purposes. This will correspond with values used in <code>@Domain</code>. Sometimes a <a href="#param-pathing-ref-id">RefId</a> will be provided, to denote a persisted domain root object to retrieve.</p>
</div>
<div class="paragraph">
<p>From there, the Command Query DSL traverses the Java objects that are domain entities and finds a particular field identified by the remaining path. See <a href="#domain-model-param">The Param Interface</a> for more information.</p>
</div>
<div class="paragraph">
<p>Using this path in the Command Query DSL can then be used to target a specific Action to perform, which will be discussed in the next section.</p>
</div>
</div>
<div class="sect2">
<h3 id="command-dsl-actions">3.3. Actions</h3>
<div class="paragraph">
<p>The <em>Action</em> is the third primary subsection of the Command URL. <em>Action</em> identifies which type of logic or instructions which should be applied to a given <em>domain entity</em>. The <em>domain entity</em> on which the action will be applied is identified by the <em>domain-alias</em> path given in the Command URL preceding the <em>action</em> parameter (see <a href="#command-dsl-domain-alias">Domain Alias</a>).</p>
</div>
<div class="paragraph">
<p>A Command URL without an <em>action</em> is not understood and hence not supported by the Framework. Hence, <em>action</em> is required.</p>
</div>
<div class="paragraph">
<p>See the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/domainobject/page/tile/section/form/_get?b=$execute</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, the action is <strong>_get</strong>. This states that we should perform the instructions defined for <strong>_get</strong> on the param located at <code>domainobject/page/tilesection/form</code>.</p>
</div>
<div class="paragraph">
<p>Each of the sections that follow will describe the logic defined within the Framework for that specific <em>action</em>.</p>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-new">3.3.1. _new</h4>
<div class="paragraph">
<p>_new: Creates a new instance for the model</p>
</div>
<div class="ulist">
<div class="title">Available Function Handlers</div>
<ul>
<li>
<p><a href="#function-handler-new-initEntity">InitEntity</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-get">3.3.2. _get</h4>
<div class="paragraph">
<p>_get: Fetches the instance of the model referenced by the Id</p>
</div>
<div class="ulist">
<div class="title">Available Function Handlers</div>
<ul>
<li>
<p><a href="#function-handler-get-param">Param</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-save">3.3.3. _save</h4>
<div class="paragraph">
<p>_save: Saves the model into the database</p>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-replace">3.3.4. _replace</h4>
<div class="paragraph">
<p>The action <code><em>replace</code> sets the state of the param identified by the _domain alias</em> in the <a href="#param-pathing">Param Path</a> to a given state. The state to set can be provided in the following manners:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provided as a JSON object in the HTTP POST Body</p>
</li>
<li>
<p>provided as a JSON query parameter: <em>rawPayload</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In each of these scenarios, the provided JSON should conform to the object identified by the <a href="#param-pathing">Param Path</a>.</p>
</div>
<div class="paragraph">
<p>When using the <code>_replace</code> action, not providing explicit values for fields will result in any existing state within the identified param to be set to <code>null</code>. In a situation where only some values of the state need to be set and the others preserved, consider using <a href="#command-dsl-actions-update">_update</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
See <a href="#examples-action-replace">_replace Examples</a> for examples using <code>_replace</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-update">3.3.5. _update</h4>
<div class="paragraph">
<p>The action <code><em>update</code> sets individual fields of the state of the param identified by _domain alias</em> in the <a href="#param-pathing">Param Path</a> to the fields of a given state.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>provided as a JSON object in the HTTP POST Body</p>
</li>
<li>
<p>provided as a JSON query parameter: <em>rawPayload</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In each of these scenarios, the provided JSON should conform to the object identified by the <a href="#param-pathing">Param Path</a>.</p>
</div>
<div class="paragraph">
<p>When using the update action, not providing explicit values for fields will result in any existing state within the identified param to be preserved. In a situation where only the state needs to be explicitly set, consider using <a href="#command-dsl-actions-replace">_replace</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
See <a href="#examples-action-update">_update Examples</a> for examples using <code>_update</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-delete">3.3.6. _delete</h4>
<div class="paragraph">
<p>_delete: Removes the model from the database</p>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-search">3.3.7. _search</h4>
<div class="paragraph">
<p>_search: Searches the model based on a search criteria</p>
</div>
<div class="ulist">
<div class="title">Available Function Handlers</div>
<ul>
<li>
<p><a href="#function-handler-search-example">Search by Example</a></p>
</li>
<li>
<p><a href="#function-handler-search-lookup">Search by Lookup</a></p>
</li>
<li>
<p><a href="#function-handler-search-query">Search by Query</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-process">3.3.8. _process</h4>
<div class="paragraph">
<p>_process: Executes asigned workflow process or custom handlers</p>
</div>
<div class="ulist">
<div class="title">Available Function Handlers</div>
<ul>
<li>
<p><a href="#function-handler-process-add">Add</a></p>
</li>
<li>
<p><a href="#function-handler-process-bpm">BPM</a></p>
</li>
<li>
<p><a href="#function-handler-process-set">Set</a></p>
</li>
<li>
<p><a href="#function-handler-process-setByRule">Set by Rule</a></p>
</li>
<li>
<p><a href="#function-handler-process-update">Update</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="command-dsl-actions-nav">3.3.9. _nav</h4>
<div class="paragraph">
<p>This action can be used to instruct the UI application to navigate to a specified pageId in the config. When @Domain has more than 1 <code>@Page</code> annotations configured, this action helps in configuring the required page that the user has to land on performing an action.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">viewdomain</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Repo</span>(value = Repo.Database.rep_none, cache=Repo.Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="annotation">@MapsTo</span>.Type(CoreDomain.class)
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRDomain</span> {

    <span class="annotation">@Page</span>(defaultPage=<span class="predefined-constant">true</span>)
    <span class="directive">private</span> Page1 page1;

    <span class="annotation">@Page</span>
    <span class="directive">private</span> Page2 page2;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Page1</span>  {

        <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/page1/_nav?pageId=page2</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@Button</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> navToNewPage;

        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Nav Externally</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@Link</span>
        <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/_nav?redirectUrl=https://mywebsite.com</span><span class="delimiter">&quot;</span></span>)
        <span class="directive">private</span> <span class="predefined-type">String</span> navExternally;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above there are two pages configured in a domain with 'page1' being the default page. By configuring defaultPage=true the  UI is getting instructions that if there is no navigation pageId specified by the server response, render 'page1' as a default.</p>
</div>
<div class="paragraph">
<p>The config on button can be read as follows - When the user clicks on the button(navToNewPage), redirect the user to page2.</p>
</div>
<div class="paragraph">
<p>The navigation can also be external to an application and an example can be seen above with the redirection to <a href="https://mywebsite.com" class="bare">https://mywebsite.com</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-dsl-query-params">3.4. Query Params</h3>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect2">
<h3 id="function-handlers">3.5. Function Handlers</h3>
<div class="paragraph">
<p>Function Handlers are an abstraction within the framework to execute a common set of instructions for a given <a href="#command-dsl-actions">Action</a>.</p>
</div>
<div class="paragraph">
<p>Given an action, a particular function handler can be executed by specifying a value for the query parameter <code>fn</code> (e.g. <code>/_process?fn=_set</code>). Together, the action and <code>fn</code> value define a <strong>Function Handler ID</strong>, or a unique key by which to identify the function handler. Function handlers use the param resolved by the path preceeding the function handler id as the param context from which to execute logic against. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/patient:&lt;!/.m/id!&gt;/_process?fn=_set</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, <code>/_process?fn=_set</code> invokes the <a href="#function-handler-process-set">Set State Function Handler</a> of the param located at <code>/p/patient:&lt;!/.m/id!&gt;</code>.</p>
</div>
<div class="sect3">
<h4 id="_providing_arguments_to_a_function_handler">3.5.1. Providing Arguments to a Function Handler</h4>
<div class="paragraph">
<p>Additional query params can be provided as arguments to a function handler to produce different behavior. For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/patient:&lt;!/.m/id!&gt;/name/_process?fn=_set&amp;value=Bob</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please refer to the specific function handler implementation for more details on which and how parameters are supported.</p>
</div>
</div>
<div class="sect3">
<h4 id="_predefined_function_handlers">3.5.2. Predefined Function Handlers</h4>
<div class="paragraph">
<p>There are several default function handlers defined within the core framework to handle common instructions, such as setting the state of a parameter or adding a parameter value into a collection.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#function-handler-get-param">Param</a>
</td>
<td class="hdlist2">
<p><em>_get?fn=param</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-new-initEntity">InitEntity</a>
</td>
<td class="hdlist2">
<p><em>_new?fn=_initEntity</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-process-add">Add</a>
</td>
<td class="hdlist2">
<p><em>_process?fn=_add</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-process-bpm">BPM</a>
</td>
<td class="hdlist2">
<p><em>_process?fn=_bpm</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-process-set">Set</a>
</td>
<td class="hdlist2">
<p><em>_process?fn=_set</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-process-setByRule">Set by Rule</a>
</td>
<td class="hdlist2">
<p><em>_process?fn=_setByRule</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-process-update">Update</a>
</td>
<td class="hdlist2">
<p><em>_process?fn=_update</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-search-example">Search by Example</a>
</td>
<td class="hdlist2">
<p><em>_search?fn=example</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-search-lookup">Search by Lookup</a>
</td>
<td class="hdlist2">
<p><em>_search?fn=lookup</em></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#function-handler-search-query">Search by Query</a>
</td>
<td class="hdlist2">
<p><em>_search?fn=query</em></p>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="function-handler-get-param">Param</h5>
<div class="paragraph">
<p>The param function handler allows for retrieval of a given parameter, as well as the ability to execute logic using the given parameter as a context.</p>
</div>
<div class="sect5">
<h6 id="_usage">Usage</h6>
<div class="paragraph">
<p>The param function handler is invoked by ending the command query with <code>"/_get?fn=param"</code>, using the param resolved by the preceeding path as the context param. Specific implementation details can be found within <code>DefaultParamFunctionHandler</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Field 1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> field1;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Click to say hello</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../field1/_get?fn=param&amp;expr=setState('Hello World!')</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> actionA;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Counter</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="type">int</span> counter;

<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../counter/_get?fn=param&amp;expr=setState((null != state ? state : 0) + 1)</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> actionB;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string SpEL expression to be executed, using the context param as the context</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_use_cases">Use Cases</h6>
<div class="paragraph">
<p>The param function handler is extremely versatile in that the executor can execute nearly anything that one could craft in a SpEL expression. Beyond simply retrieving a param value, a common scenario for using the get param function handler is to manually invoke one of the methods directly on the given param instance. This may be useful when working with a certain type of param (e.g. a <a href="#param-state-introduction-collection">Collection Param</a> or a <a href="#param-state-introduction-transient">Transient Param</a>).</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
A word to the wise: Whatever the case, the ability to execute SpEL expressions at lower layers of the Nimbus Framework is inherently powerful and may introduce problematic or difficult-to-debug behavior.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-new-initEntity">InitEntity</h5>
<div class="paragraph">
<p>The initEntity function handler instantiates the context param with provided values.</p>
</div>
<div class="sect5">
<h6 id="_usage_2">Usage</h6>
<div class="paragraph">
<p>The initEntity function handler is invoked by ending the command query with <code>"/_new?fn=_initEntity"</code>, using the param resolved by the preceeding path as the context param. Specific implementation details can be found within <code>DefaultActionNewInitEntityFunctionHandler</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Note Type</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ComboBox</span>
<span class="annotation">@Values</span>(NoteTypes.class)
<span class="directive">private</span> <span class="predefined-type">String</span> noteType;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Note Description</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RichText</span>(readOnly = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> noteDescription;

<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/notes/_new?fn=_initEntity&amp;target=/noteDescription&amp;json=</span><span class="char">\&quot;</span><span class="content">&lt;!/../noteDescription!&gt;</span><span class="char">\&quot;</span><span class="content">&amp;target=/noteType&amp;json=</span><span class="char">\&quot;</span><span class="content">&lt;!/../noteType!&gt;</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> submitAndAddNew;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_2">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string representing a relative path of a param to instantiate (from the context param). Used exclusively with the <code>json</code> attribute that follows.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">json</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A JSON representation of the object to set into the param resolved from the path given in the preceeding <code>target</code> attribute.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-process-add">Add</h5>
<div class="paragraph">
<p>The add function handler attempts to add a <a href="#param-state-introduction-collection-element">Collection Element Param</a> to a <a href="#param-state-introduction-collection">Collection Param</a>.</p>
</div>
<div class="sect5">
<h6 id="_usage_3">Usage</h6>
<div class="paragraph">
<p>The add function handler is invoked by ending the command query with <code>"/_process?fn=_add"</code>, using the param resolved by the preceeding path as the context param. The context parameter should resolve to a <a href="#param-state-introduction-collection">Collection Param</a>. Specific implementation details can be found within <code>AddFunctionHandler</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The add function handler is subclassed from <a href="#function-handler-url-based">URL Based Function Handler</a>, which means that it shares common behavior amongst some of it&#8217;s attributes. See the <a href="#function-handler-url-based">URL Based Function Handler</a> documentation for more details.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSSection</span> {

    <span class="directive">private</span> <span class="type">int</span> counter;
    <span class="directive">private</span> SampleLineItem tmp;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sample Grid</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Grid</span>
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;SampleLineItem&gt; collection;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Add an item</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Button</span>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../counter/_get?fn=param&amp;expr=setState((null != state ? state : 0) + 1)</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../tmp/_replace?rawPayload={</span><span class="char">\&quot;</span><span class="content">name</span><span class="char">\&quot;</span><span class="content">: </span><span class="char">\&quot;</span><span class="content">Item &lt;!/../counter!&gt;</span><span class="char">\&quot;</span><span class="content">}</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../collection/_process?fn=_add&amp;url=/petcareassessmentview/&lt;!#this!&gt;/../tmp</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> add;
}

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleLineItem</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@GridColumn</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_3">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the value to add into the context param.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="#param-pathing">param path</a> of a param containing the desired state to set into the context param. The param path may be either internal or external.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-process-bpm">BPM</h5>
<div class="paragraph">
<p>The BPM function handler executes a BPM flow.</p>
</div>
<div class="sect5">
<h6 id="_usage_4">Usage</h6>
<div class="paragraph">
<p>The BPM function handler is invoked by ending the command query with <code>"/_process?fn=_bpm"</code>, using the view root param as the context param for the BPM process. Specific implementation details can be found within <code>StatelessBPMFunctionHanlder</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Button</span>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/_process?fn=_bpm?processId=statelessbpmtest</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
<span class="directive">private</span> <span class="predefined-type">String</span> submit;</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This assumes that the file <code>statelessbpmtest.bpmn20.xml</code> exists in the process-defs directory(<code>src/main/resources/process-defs/</code>).</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_4">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the BPM process (or file name) to execute</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-process-set">Set</h5>
<div class="paragraph">
<p>The set function handler sets the state of the context param to the provided state.</p>
</div>
<div class="sect5">
<h6 id="_usage_5">Usage</h6>
<div class="paragraph">
<p>The set function handler is invoked by ending the command query with <code>"/_process?fn=_set"</code>, using the param resolved by the preceeding path as the context param. Specific implementation details can be found within <code>SetFunctionHandler</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The set function handler is subclassed from <a href="#function-handler-url-based">URL Based Function Handler</a>, which means that it shares common behavior amongst some of it&#8217;s attributes. See the <a href="#function-handler-url-based">URL Based Function Handler</a> documentation for more details.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Field 1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> field1;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Click to say hello</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../field1/_process?fn=_set&amp;value=Hello World!</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> actionA;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_5">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the state to set into the context param.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="#param-pathing">param path</a> of a param containing the desired state to set into the context param. The param path may be either internal or external.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-process-setByRule">Set by Rule</h5>
<div class="paragraph">
<p>The set by rule function handler executes a given rule file from the perspective of a context param.</p>
</div>
<div class="sect5">
<h6 id="_usage_6">Usage</h6>
<div class="paragraph">
<p>The set by rule function handler is invoked by ending the command query with <code>"/_process?fn=_setByRule"</code>, using the param resolved by the preceeding path as the context param. Specific implementation details can be found within <code>SetByRuleFunctionalHandler</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFForm</span> {

    ...

    <span class="annotation">@Button</span>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/../_process?fn=_setByRule?rule=sample_rule</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> submit;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>This assumes that the file <code>sample_rule.drl</code> exists in the <code>src/main/resources</code> directory.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_6">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the rule file, relative to <code>src/main/resources</code>. The file extension should be omitted.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-process-update">Update</h5>
<div class="paragraph">
<p>The update function handler adds a <a href="#param-state-introduction-collection-element">Collection Element Param</a> to a <a href="#param-state-introduction-collection">Collection Param</a>.</p>
</div>
<div class="sect5">
<h6 id="_usage_7">Usage</h6>
<div class="paragraph">
<p>The update function handler is invoked by ending the command query with <code>"/_process?fn=_update"</code>, using the param resolved by the preceeding path as the context param. Specific implementation details can be found within <code>UpdateFunctionHandler</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The update function handler is subclassed from <a href="#function-handler-url-based">URL Based Function Handler</a>, which means that it shares common behavior amongst some of it&#8217;s attributes. See the <a href="#function-handler-url-based">URL Based Function Handler</a> documentation for more details.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSSection</span> {

    <span class="directive">private</span> <span class="type">int</span> counter;
    <span class="directive">private</span> SampleLineItem tmp;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sample Grid</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Grid</span>
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;SampleLineItem&gt; collection;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Add an item</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Button</span>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../counter/_get?fn=param&amp;expr=setState((null != state ? state : 0) + 1)</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../tmp/_replace?rawPayload={</span><span class="char">\&quot;</span><span class="content">name</span><span class="char">\&quot;</span><span class="content">: </span><span class="char">\&quot;</span><span class="content">Item &lt;!/../counter!&gt;</span><span class="char">\&quot;</span><span class="content">}</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../collection/_process?fn=_update&amp;url=/petcareassessmentview/&lt;!#this!&gt;/../tmp</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> add;
}

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleLineItem</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Item Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@GridColumn</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_7">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the value to add into the context param.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="#param-pathing">param path</a> of a param containing the desired state to set into the context param. The param path may be either internal or external.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-search-example">Search by Example</h5>
<div class="paragraph">
<p>The search by example function handler performs a search over the targeted domain entity by using the provided param state as search criteria.</p>
</div>
<div class="sect5">
<h6 id="_usage_8">Usage</h6>
<div class="paragraph">
<p>The search by example function handler is invoked by ending the command query with <code>"/_search?fn=example"</code>, using the preceeding path as the domain entity over which to search. Specific implementation details can be found within <code>DefaultSearchFunctionHandlerExample</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFForm</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Search Term</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> searchTerm;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Test Search Results</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Button</span>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/person/_search?fn=example&amp;rawPayload={</span><span class="char">\&quot;</span><span class="content">firstName</span><span class="char">\&quot;</span><span class="content">: </span><span class="char">\&quot;</span><span class="content">&lt;!/../searchTerm!&gt;</span><span class="char">\&quot;</span><span class="content">}</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> submit;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The config will execute a search within the database that returns a result set of all documents having a <code>firstName</code> matching the state of <code>searchTerm</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The observant will note that we aren&#8217;t actually doing anything with the data in this particular example. This is intentional, as it is a simplified example.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_8">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggregate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An aggregate query (if applicable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer representing the starting page number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pageSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer for the number of elements to display per page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">projection.alias</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string representing the domain entity id used to determine the resulting object type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rawPayload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A JSON String object that provides search criteria.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sortBy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>"key:value"</code> string with the key representing the field over which to sort and the value representing the sort direction. Supported values are determined by the <code>org.springframework.data.domain.Direction</code> (<code>asc</code>, <code>desc</code>, etc.)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_setting_example_search_criteria">Setting example search criteria</h6>
<div class="paragraph">
<p>The search criteria used to perform an <em>example search</em> can be provided by passing an <em>example object</em>. The <em>example object</em> is given as an argument (<code>rawPayload</code>) that matches the type of the object being searched. In other words, if searching over a <strong>core domain entity</strong> with an alias of <code>person</code> and that domain entity is built from a <code>Person</code> Java object, then <code>rawPayload</code> should also be of the type <code>Person</code>.</p>
</div>
<div class="paragraph">
<p>All of the data contained within the <em>example object</em> is then used by the repository implementation to obtain a list of search results, matching results similarly to how the <code>where</code> clause of a typical database query would.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Wherever possible, the searching features will be delegated to the native repository implementation. For example, the default repository implementation (MongoDB) simply passes the example criteria into MongoDB and lets MongoDB do what it does best.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_providing_rawpayload">Providing rawPayload</h6>
<div class="paragraph">
<p>One way to provide <code>rawPayload</code> is to simply pass a JSON string as a query parameter in the <a href="#command-dsl">command query</a>. This is seen in the example above. Using this method, it is possible to provide dynamic values using the <a href="#param-pathing-variable-resolver">Path Variable Resolver</a> features.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
The <code>rawPayload</code> that is specified here as a query parameter is actually much more complex in how it is set. Consequently, there are other ways to provide it to a function handler. For more understanding on how to provide <code>rawPayload</code> to a <a href="#command-dsl">command query</a>, see <a href="#command-dsl-sending-a-payload">Sending a payload with a Command</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-search-lookup">Search by Lookup</h5>
<div class="paragraph">
<p>The search by lookup function handler performs a search over the targeted domain entity by using the search criteria provided as query parameters.</p>
</div>
<div class="sect5">
<h6 id="_usage_9">Usage</h6>
<div class="paragraph">
<p>The search by lookup function handler is invoked by ending the command query with <code>"/_search?fn=lookup"</code>, using the preceeding path as the domain entity over which to search. Specific implementation details can be found within <code>DefaultSearchFunctionHandlerLookup</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Choose a Person</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/person/_search?fn=lookup&amp;projection.mapsTo=code:id,label:name</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ComboBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">Long</span> chosenPersonId;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Choose a Woman</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/person/_search?fn=lookup&amp;where=person.sex.eq('female')&amp;projection.mapsTo=code:id,label:name</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ComboBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">Long</span> chosenWomanId;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Choose a Gender</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/staticCodeValue/_search?fn=lookup&amp;where=staticCodeValue.paramCode.eq('/gender')</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ComboBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> chosenGender;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_9">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>where</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A QueryDSL filter statement used to determine whether or not a record of data should be contained in the final result set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orderby</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the name of the field by which to group and direction to sort the result set by. (e.g. <code>"field.asc()</code>) Possible sort directions are: <code>.asc()</code>, <code>.desc()</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer value representing the total number of records that should be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aggregate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An aggregate query (if applicable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projection.mapsTo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A key/value comma-separated string with the keys being the fields of <code>ParamValue</code>, and the values being the field to map. (e.g. <code>"code:id,label:name"</code>). Not required for <code>staticCodeValue</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sorting the result set is achievable at different layers, using <strong>in memory sorting</strong> or the native <strong>repository sorting</strong> provided by a database/repository implementation.</p>
</div>
</div>
<div class="sect5">
<h6 id="_in_memory_sorting">In Memory Sorting</h6>
<div class="paragraph">
<p>Sorting (ascending or descending) happens in memory using the Collections' <code>comparator</code> interface on the property configured with <code>orderby</code> clause (for <code>staticCodeValue</code> as well as dynamic domain entities), only when the <code>orderBy</code> clause does not start with domain entity alias.</p>
</div>
<div class="paragraph">
<p><code>"/p/person/_search?fn=lookup&amp;where=person.sex.eq('female')&amp;orderBy=name.asc()"</code></p>
</div>
<div class="paragraph">
<p>would perform an in memory sort of all the females by their <code>name</code> field in ascending order, because the <code>orderBy.asc()</code> value is <code>name.asc()</code>.</p>
</div>
<div class="paragraph">
<div class="title">Threshold</div>
<p>A <code>sortThreshold</code> is defined for sorting to prevent potential memory leaks. If sorting is attempted on a collection with size greater than the configured integer <code>sortThreshold</code>, the sorting will simply be skipped.</p>
</div>
<div class="paragraph">
<div class="title">Overriding the sort threshold number</div>
<p>The <code>sortThreshold</code> can be configured by configuring the property <code>search.lookup.inMemory.sortThreshold</code> (default: <code>500</code>) with an <code>integer</code> value in <code>application.yml</code>.</p>
</div>
<div class="paragraph">
<div class="title">Handling sorts greater than the defined sort threshold</div>
<p>In some cases, it may be desirable to throw an exception when the sorting threshold has been violated. Nimbus supports this natively by configuring the property <code>search.lookup.inMemory.exceptionIfOverSortThreshold</code> (default: <code>false</code>) in <code>application.yml</code>. Setting this value to <code>true</code> will result in a <code>FrameworkRuntimeException</code> when attempting to sort such a collection.</p>
</div>
</div>
<div class="sect5">
<h6 id="_repository_sorting">Repository Sorting</h6>
<div class="paragraph">
<p>When the <code>orderby</code> clause starts with the domain alias, the sorting will occur inside the configured model repository&#8217;s query execution. In other words, since the default configured model repository uses MongoDB, the sorting would occur within the MongoDB query execution layer.</p>
</div>
<div class="paragraph">
<p><code>"/p/person/_search?fn=lookup&amp;where=person.sex.eq('female')&amp;orderBy=person.name.asc()"</code></p>
</div>
<div class="paragraph">
<p>would perform a sort within MongoDB of all the females by their <code>name</code> field in ascending order, because the <code>orderBy.asc()</code> value is <code>person.name.asc()</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_special_use_case_staticcodevalue">Special Use Case: staticCodeValue</h6>
<div class="paragraph">
<p>The domain <code>staticCodeValue</code> is a special use case within the Nimbus Framework.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="function-handler-search-query">Search by Query</h5>
<div class="paragraph">
<p>The search by query function handler performs a search over the targeted domain entity by using the provided query data.</p>
</div>
<div class="sect5">
<h6 id="_usage_10">Usage</h6>
<div class="paragraph">
<p>The search by query function handler is invoked by ending the command query with <code>"/_search?fn=query"</code>, using the preceeding path as the domain entity over which to search. Specific implementation details can be found within <code>DefaultSearchFunctionHandlerQuery</code>.</p>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Pets</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Grid</span>(onLoad = <span class="predefined-constant">true</span>)
<span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>)
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/.m/_process?fn=_set&amp;url=/p/pet/_search?fn=query&amp;where=pet.ownerId.eq(&lt;!/../.m/id!&gt;)</span><span class="delimiter">&quot;</span></span>) <b class="conum">(1)</b>
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;PetLineItemOwnerLanding&gt; pets;</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The right hand side of this query performs the search by query, with a where clause that returns a result set of all objects in the <code>pet</code> table that have an <code>ownerId</code> matching the resolved value of <code>&lt;!/../.m/id!&gt;</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_supported_query_parameters_10">Supported Query Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggregate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An aggregate query (if applicable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer value representing the total number of records that should be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>orderby</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the name of the field by which to group and direction to sort the result set by. (e.g. <code>"field.asc()</code>) Possible sort directions are: <code>.asc()</code>, <code>.desc()</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer representing the starting page number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pageSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An integer for the number of elements to display per page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">projection.alias</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">projection.mapsTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sortBy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>"key:value"</code> string with the key representing the field over which to sort and the value representing the sort direction. Supported values are determined by the <code>org.springframework.data.domain.Direction</code> (<code>asc</code>, <code>desc</code>, etc.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">where</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A query dsl statement that contains the desired matching conditions. This clause should always begin with the domain alias</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="function-handlers-custom">3.5.3. Custom Function Handlers</h4>
<div class="paragraph">
<p>The Nimbus framework provides the ability for developers to define custom function handlers.</p>
</div>
<div class="sect4">
<h5 id="_defining_custom_function_handler_logic">Defining custom function handler logic</h5>
<div class="paragraph">
<p>The logic for a function handler resides in the abstract <code>execute</code> method of a <code>FunctionHandler</code> implementation.</p>
</div>
<div class="listingblock">
<div class="title">Custom function handler implementation</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">CustomFunctionHandler</span>&lt;T, S&gt; <span class="directive">implements</span> FunctionHandler&lt;T, S&gt; {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> S execute(ExecutionContext eCtx, Param&lt;T&gt; actionParameter) {
        <span class="comment">// Add custom function handler logic here</span>
        <span class="keyword">return</span> <span class="predefined-constant">null</span>;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_defining_a_custom_function_handler_bean">Defining a custom function handler bean</h5>
<div class="paragraph">
<p>The implementation must be constructed as a Spring bean and injected into the application context to be recognized by the framework.</p>
</div>
<div class="listingblock">
<div class="title">Bean configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PetClinicExtensionConfig</span> {

    <span class="annotation">@Bean</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">petclinic._process$execute?fn=_custom</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> CustomFunctionHandler&lt;?, ?&gt; customFunctionHandler(BeanResolverStrategy beanResolver) {
        <span class="keyword">return</span> <span class="keyword">new</span> CustomFunctionHandler&lt;&gt;(beanResolver);
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_bean_naming_conventions_for_function_handlers">Bean naming conventions for function handlers</h6>
<div class="paragraph">
<p>The naming convention for all function handlers must follow the pattern:</p>
</div>
<div class="paragraph">
<p><code>&lt;app-id&gt;.&lt;action&gt;&lt;behavior&gt;?fn=&lt;function-handler-name&gt;</code></p>
</div>
<div class="ulist">
<div class="title">Examples</div>
<ul>
<li>
<p><code>default._process$execute?fn=_setByRule</code></p>
</li>
<li>
<p><code>default._get$execute?fn=_custom</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>&lt;app-id&gt;</code> of <code>default</code> is used for all default implementations within the framework. Custom implementations can and should use their own unique <code>&lt;app-id&gt;</code> (e.g. <code>petclinic</code>). All function handler implementations (including <code>default</code>) are able to be overridden by simply overriding the desired Spring bean.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_invoking_custom_function_handlers">Invoking custom function handlers</h5>
<div class="paragraph">
<p>Invoking a custom function handler is no different than invoking any other function handler. Simply provide the <strong>Function Handler ID</strong> as the final part of the <a href="#command-dsl">command query</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Model
@Getter @Setter
public static class VFForm {

    @Button
    @Config(url = "/page/tile/section/form/_process?fn=_custom") <b class="conum">(1)</b>
    private String submit;
}</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The <code>CustomFunctionHandler</code> logic would be invoked with <code>actionParameter</code> resolving to the param located at <code>"/page/tile/section/form"</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="function-handler-url-based">3.5.4. URL Based Function Handler</h4>
<div class="paragraph">
<p>URL Based Function handlers are function handlers that perform an operation over a single provided value.</p>
</div>
<div class="sect4">
<h5 id="_usage_11">Usage</h5>
<div class="paragraph">
<p>The URL Based Function Handler is an abstract support class, extended by several other function handlers. It is not invoked directly. As it is expected to be fairly common across function handlers, it&#8217;s details are documented here.</p>
</div>
</div>
<div class="sect4">
<h5 id="_supported_query_parameters_11">Supported Query Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string containing the state to perform an operation over</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="#param-pathing">param path</a> of a param containing the desired state to perform an overation over. The param path may be either internal or external.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_providing_the_state_to_add">Providing the state to add</h5>
<div class="paragraph">
<p>The hierarchy of how the state is determined and passed to subclasses is decided by <code>URLBasedAssignmentFunctionHandler</code> and is prioritized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>value</code> attribute</p>
</li>
<li>
<p><code>url</code> attribute</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><strong>A note regarding the <code>url</code> attribute</strong></p>
</div>
<div class="paragraph">
<p>When using the <code>url</code> attribute, the state retrieval is considered to be <strong>external state retrieval</strong> if the value for <code>url</code> begins with <code>"/p/"</code>. External state retrieval is also commonly referred to as being <strong>cross domain</strong>.</p>
</div>
<div class="paragraph">
<p>Otherwise, the path is treated as <strong>internal state retrieval</strong>, which means that the path is simply relative to the current context param.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-dsl-sending-a-payload">3.6. Sending a payload with a Command</h3>
<div class="paragraph">
<p>The <code>rawPayload</code> attribute of <code>Command</code> is used in several different client facing implementations to input data into Nimbus for processing. Primarily used as an argument, it is a unversal o</p>
</div>
<div class="sect3">
<h4 id="rawpayload-as-query-param">3.6.1. Send rawPayload as a query parameter</h4>
<div class="paragraph">
<p>Simply provide <code>rawPayload</code> as a query parameter with a JSON string value representing the desired value to provide within the <a href="#command-dsl">command query</a> statement.</p>
</div>
</div>
<div class="sect3">
<h4 id="rawpayload-as-payload">3.6.2. Send rawPayload as HTTP Payload content</h4>
<div class="paragraph">
<p>The <code>WebActionController</code> offers native payload support for some HTTP operations such as <code>POST</code> or <code>PUT</code>. One such example can be seen with the following button implementation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Form</span>
<span class="directive">private</span> VFForm vfForm;

<span class="annotation">@MapsTo</span>.Type(Person.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFForm</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Search Term</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>
    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/firstName</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> searchTerm;

    <span class="annotation">@Button</span>(type = <span class="predefined-type">Button</span>.Type.submit) <b class="conum">(1)</b>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../_replace</span><span class="delimiter">&quot;</span></span>) <b class="conum">(2)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> submit;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>On click of this button on the UI, the browser will send an HTTP <code>POST</code> with a JSON payload representing the form data. The <code>WebActionController</code> knows to convert this data into the <code>rawPayload</code>, which can then be forwarded on to subsequent commands.</p>
</li>
<li>
<p>The command generated by this query will have it&#8217;s <code>rawPayload</code> set and consequently will use the <a href="#command-dsl-actions-replace">_replace</a> behavior to set the state of <code>vfForm</code> to it.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The submit button behavior occurs since the default UI behavior for <code>Button.Type.submit</code> will post it&#8217;s parent&#8217;s encapsulated form data.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See the <code>WebActionController</code> implementation for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_priority_of_how_rawpayload_is_set">3.6.3. Priority of how rawPayload is set</h4>
<div class="paragraph">
<p>The priority of how <code>rawPayload</code> is used in the search by example handler is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Query param</p>
</li>
<li>
<p>HTTP payload</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions">4. Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains instructions regarding popular extensions and hooks that the framework exposes that a developer might be interested in using. The examples in this will typically be quite complex and expect the reader to have a thorough understanding of the Nimbus Framework before attempting to implement these features.</p>
</div>
<div class="sect2">
<h3 id="extensions-file-import">4.1. Importing data files to an entity</h3>
<div class="paragraph">
<p>The framework provides support for the ability to upload data files and directly map the contained data into an associated a Nimbus configured Java object. The framework exposes a <code>FileImportGateway</code> object that can be used to process the data file uploaded alongside the traditional <code>HttpServletRequest</code>.</p>
</div>
<div class="paragraph">
<p>In this way, clients can configure their application to allow a user to upload a data file and process its contents into a framework domain entity, allowing any rules or process flows to execute over it.</p>
</div>
<div class="sect3">
<h4 id="_exposing_a_controller_to_capture_the_uploaded_data_file">4.1.1. Exposing a controller to capture the uploaded data file</h4>
<div class="paragraph">
<p>The framework does not expose a native controller to handle file uploads, instead allowing the client to provide it&#8217;s own implementation. A sample can be seen below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Autowired</span>
<span class="directive">private</span> FileImportGateway fileImportGateway;

<span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/**/p/event/upload</span><span class="delimiter">&quot;</span></span>, consumes = MediaType.MULTIPART_FORM_DATA_VALUE,  produces = <span class="string"><span class="delimiter">&quot;</span><span class="content">application/json</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.POST)
<span class="directive">public</span> <span class="predefined-type">Object</span> handleUpload(HttpServletRequest req, <span class="annotation">@RequestParam</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">pfu</span><span class="delimiter">&quot;</span></span>) MultipartFile file, <span class="annotation">@RequestParam</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">domain</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> domain) {
    <span class="predefined-type">Object</span> obj = fileImportGateway.doImport(req, domain, file);
    Holder&lt;<span class="predefined-type">Object</span>&gt; output = <span class="keyword">new</span> Holder&lt;&gt;(obj);
    <span class="keyword">return</span> output;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_file_types">4.1.2. Supported file types</h4>
<div class="paragraph">
<p>The default implementation <code>DefaultFileImportGateway</code> provides support for the following data types:</p>
</div>
<div class="sect4">
<h5 id="_csv">CSV</h5>
<div class="paragraph">
<p><code>TabularDataFileImporter</code> handles all <code>.csv</code> typed files.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configurable Parser/Conversion properties exposed via query parameters.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="https://www.univocity.com/pages/univocity_parsers_csv.html#csv-parser-settings">Univocity Parser Settings</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_excel">Excel</h5>
<div class="paragraph">
<p><code>ExcelFileImporter</code> handles importing <code>.xls</code> and <code>.xlsx</code> file types.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configurable Parser/Conversion Properties exposed via query parameters.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="https://www.univocity.com/pages/univocity_parsers_csv.html#csv-parser-settings">Univocity Parser Settings</a></p>
</li>
<li>
<p>Configure excel specific configurable properties with <code>ExcelParserSettings</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_importing_other_types_of_files">Importing other types of files</h5>
<div class="paragraph">
<p>Other types of files can be imported by the configured <code>FileImportGateway</code> by providing custom <code>Importer</code> implementations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">SpecialFileImporter</span> <span class="directive">implements</span> Importer {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> &lt;T&gt; <span class="type">void</span> doImport(Command command, <span class="predefined-type">InputStream</span> stream) {
        ...
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> supports(<span class="predefined-type">String</span> extension) {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">.special</span><span class="delimiter">&quot;</span></span>.equals(extension);
    }
}

<span class="annotation">@Bean</span>
<span class="directive">public</span> SpecialFileImporter specialFileImporter() {
    <span class="keyword">return</span> <span class="keyword">new</span> SpecialFileImporter();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configurable_parserconversion_properties">4.1.3. Configurable Parser/Conversion Properties</h4>
<div class="paragraph">
<p>The framework uses <a href="https://www.univocity.com/pages/univocity_parsers_csv.html#working-with-csv">Univocity</a> to parse data files. Univocity offers a number of <a href="https://www.univocity.com/pages/univocity_parsers_csv.html#csv-parser-settings">configurable properties</a>, such as the ability to define a title row. These configurable properties are exposed via the command query dsl, as below:</p>
</div>
<div class="paragraph">
<p><code>/**/event/upload?domain=mypojo&amp;PROPERTY_KEY=VALUE</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_error_handling">4.1.4. Error Handling</h4>
<div class="paragraph">
<p>Configure which type of error handling strategy should be used through the command URL:</p>
</div>
<div class="paragraph">
<p><code>**/event/upload?domain=mypojo&amp;errors=STRICT</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Types</p>
<div class="ulist">
<ul>
<li>
<p><code>SILENT</code> <strong>(default)</strong>: Silently continues processing when an error parsing row data occurs</p>
</li>
<li>
<p><code>STRICT</code>: Rethrows the thrown data parsing exception when an error parsing row data occurs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>More specific error handling may be determined by the specific <code>Importer</code> implementation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pojo_writing_strategies">4.1.5. POJO Writing Strategies</h4>
<div class="paragraph">
<p>Configure which type of writing strategy should be used when converting a record of data into a POJO through the command URL:</p>
</div>
<div class="paragraph">
<p><code>**/event/upload?domain=mypojo&amp;writeStrategy=MODEL_REPOSITORY</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Types</p>
<div class="ulist">
<ul>
<li>
<p><code>COMMAND_DSL</code> <strong>(default)</strong>: Use Command DSL&#8217;s <code>_new</code> implementation to write each record of row data processed</p>
</li>
<li>
<p><code>MODEL_REPOSITORY</code>: Use the provided domain&#8217;s <code>ModelRepository</code> implementation to write each record of row data processed</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix">5. Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="core-all-config-annotations">5.1. Config Annotations</h3>
<div class="paragraph">
<p>This section contains instructional reference material for each of the config annotations available within the Framework. Use this section when needing to identify specific features of a config annotation.</p>
</div>
<div class="paragraph">
<p>For more information about how config annotations are applied within the framework, see <a href="#configuration">Configuration</a>.</p>
</div>
<div class="sect3">
<h4 id="config-annotations-conditional">5.1.1. Conditional Config Annotations</h4>
<div class="paragraph">
<p>This section covers the <em>conditional behavior</em> that can be applied to params. In this context, <em>conditional behavior</em> refers to
performing a set of actions based on a given condition. The condition is evaluated by using the powerful capabilities of <em>SpEL
(Spring Expression Language)</em>.</p>
</div>
<div class="paragraph">
<p>Typically this <em>conditional behavior</em> is evaluated from the context of the <em>conditionally decorated param</em> (the param that is annotated
with a conditional annotation), meaning that the condition will inspect the <em>decorated param</em> object to infer if the condition
should be <code>true</code> or <code>false</code>.</p>
</div>
<div class="paragraph">
<p>The following example shows what a conditional configuration might look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@SampleConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'YES'</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Radio</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@Values</span>(YesNo.class)
<span class="directive">private</span> <span class="predefined-type">String</span> question;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>when</code> condition is effectively stating, when <code>question.getState().equals("YES")</code>. In this case, since <code>question</code> is the <em>decorated
param</em>, we are evaluating from the context of <code>question</code>. This is why <code>state</code> is understood in the <em>SpEL</em> condition <code>state == 'YES'</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In this scenario <code>@SampleConditional</code> is not a real annotation understood by the framework, but it illustrates the idea that when
this particular <em>condition</em> is <code>true</code>, we should perform some sort of behavior. We defer that logic to <em>State Event Handlers</em>.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="config-annotations-access-conditional">AccessConditional</h5>
<div class="paragraph">
<p><code>@AccessConditional</code> allows to control the access of the specific area/functionality within the application based on User&#8217;s assigned role(s) and permission(s).</p>
</div>
<div class="paragraph">
<p>The logic for <code>@AccessConditional</code> can be found in <code>AccessConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@AccessConditional</span>(whenAuthorities=<span class="string"><span class="delimiter">&quot;</span><span class="content">?[#this == 'entity_assign'].empty</span><span class="delimiter">&quot;</span></span>, p=<span class="predefined-type">Permission</span>.HIDDEN)
<span class="directive">private</span> Section_EntityAssignment vsEntityAssignment;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Above configuration would hide the entity assignment section for user(s) who do not have access to "entity_assign" action.</p>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-activate-conditional">ActivateConditional</h5>
<div class="paragraph">
<p><code>@ActivateConditional</code> is an extension capability provided by the framework. The annotation is used to conditionally activate/deactivate the param based on a SpEL condition.</p>
</div>
<div class="paragraph">
<p>To dectivate a param means to mark the param the <code>enabled</code> and <code>visible</code> properties as well as nullify the state of the target param.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
It is common to misuse <code>@ActivateConditional</code> when <code><a href="#config-annotations-enable-conditional">@EnableConditional</a></code> or <code><a href="#config-annotations-enable-conditional">@EnableConditional</a></code> would be a better choice. While this annotation is similar to using <code><a href="#config-annotations-enable-conditional">@EnableConditional</a></code> and/or <code><a href="#config-annotations-visible-conditional">@VisibleConditional</a></code>, it should be noted that <code>@ActivateConditional</code> nullify the state of the target param.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The logic for <code>@ActivateConditional</code> can be found in <code>ActivateConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ActivateConditional.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CheckBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@ActivateConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state != 'true'</span><span class="delimiter">&quot;</span></span>, targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">/../sectionG_skip</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> skipSectionG;

<span class="directive">private</span> sectionG_Skip sectionG_skip;

<span class="annotation">@Radio</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@Model</span>.Param.Values(value=YNType.class)
<span class="annotation">@ActivateConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'No'</span><span class="delimiter">&quot;</span></span>, targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">/../q3Level2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> answerYesOrNo;

<span class="directive">private</span> Q3 q3Level2;

<span class="annotation">@CheckBoxGroup</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@Model</span>.Param.Values(value=Days.class)
<span class="annotation">@ActivateConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state == new String[]{'Sunday'}</span><span class="delimiter">&quot;</span></span>,targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">/../../../sundayDeliverySection</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> deliveryDays;

<span class="comment">/*Check if selection contains one or more specific values*/</span>
<span class="annotation">@CheckBoxGroup</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@Model</span>.Param.Values(value=Days.class)
<span class="annotation">@ActivateConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state != null &amp;&amp; state.?[#this=='Sunday'] != new String[]{}</span><span class="delimiter">&quot;</span></span>,targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">/../../../sundayDeliverySection</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> deliveryDays;

<span class="annotation">@CheckBoxGroup</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@Model</span>.Param.Values(value=VisitCount.class)
<span class="annotation">@ActivateConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state != null &amp;&amp; state.length &gt; 2</span><span class="delimiter">&quot;</span></span>,targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">/../../section</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> visits;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-config-conditional">ConfigConditional</h5>
<div class="paragraph">
<p><code>@ConfigConditional</code> is an extension capability provided by the framework. The annotation is used to conditionally execute <code>@Config</code> calls based on a <em>SpEL</em> based condition.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@ConfigConditional</code> can be found in <code>ConfigConditionalStateChangeHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">ConfigConditional.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ConfigConditional</span>(
    when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Completed'</span><span class="delimiter">&quot;</span></span>, config = {
    <span class="annotation">@Config</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/../state/_update?rawpayload=</span><span class="char">\&quot;</span><span class="content">Closed</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>),
    <span class="annotation">@Config</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">/p/dashboard/_get</span><span class="delimiter">&quot;</span></span>)
})
<span class="directive">private</span> <span class="predefined-type">String</span> status;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In the above example , whenever there is statechange of status and the status is changed to <strong>Completed</strong>, the Configs will be executed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-enable-conditional">EnableConditional</h5>
<div class="paragraph">
<p><code>@EnableConditional</code> is an extension capability provided by the framework. The annotation is used to conditionally activate/deactivate the param based on a SpEL condition.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@ConfigConditional</code> can be found in <code>ConfigConditionalStateChangeHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">EnableConditional.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'hooli'</span><span class="delimiter">&quot;</span></span>, targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">../enable_p2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> enable_p1;

<span class="directive">private</span> <span class="predefined-type">String</span> enable_p2;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-expression-conditional">ExpressionConditional</h5>
<div class="paragraph">
<p><code>@ExpressionConditional</code> is a very versatile conditional annotation that can be used to apply any logic that is able
to be crafted using <em>SpEL</em> expressions.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@ExpressionConditional</code> can be found in <code>ExpressionConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExpressionConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">null == state &amp;&amp; onLoad()</span><span class="delimiter">&quot;</span></span>, then=<span class="string"><span class="delimiter">&quot;</span><span class="content">setState(T(java.time.LocalDate).now())</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> LocalDate initDateOnLoad;</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
The observant will notice that <code>@ExpressionConditional</code> is versatile in that it could be used to perform the
same logic achieved by several other framework defined <em>conditional annotations</em>. Ideally it should not be used when
another <em>conditional annotation</em> is available to achieve the same behavor.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-message-conditional">MessageConditional</h5>
<div class="paragraph">
<p><code>@MessageConditional</code> is a conditional annotation that allows the ability to conditionally assign of one or more <code>Message</code> objects to a param.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@MessageConditional</code> can be found in <code>MessageConditionalHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Do you like apples?</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Radio</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@Values</span>(YesNo.class)
<span class="annotation">@MessageConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state =='Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/../q2</span><span class="delimiter">&quot;</span></span>, message = <span class="string"><span class="delimiter">&quot;</span><span class="content">'Apple lovers do not like oranges!'</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> q1;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Do you like oranges?</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> q2;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-validate-conditional">ValidateConditional</h5>
<div class="paragraph">
<p><code>@ValidateConditional</code> is used to conditionally set validations that should appear for a param based on a <em>SpEL</em> condition. This
annotation can be triggered for multiple conditions, if necessary.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@ValidateConditional</code> can be found in <code>ValidateConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring Conditional by Group</div>
<p><code>@ValidateConditional</code> works by first evaluating the <code>when</code> attribute by means of a <em>SpEL</em> condition. When the <code>when</code> condition is <code>true</code>, the
framework will attempt to identify a subset of params with Validation constraints and apply validation logic to those params. See the
following example:</p>
</div>
<div class="listingblock">
<div class="title">ValidateConditional Sample 1</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'dog'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class)
<span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> petType;

<span class="annotation">@NotNull</span>
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> petName;

<span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> dogFood;

<span class="annotation">@NotNull</span>(groups = { GROUP_2.class })
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> catFood;</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">ValidateConditional Sample 1 - Results</div>
<p>In the above example, assuming the state of <code>petType</code> is <code>"dog"</code>, the validations that will be applied are: <code>petName</code> and <code>dogFood</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>petName</code> - There are no groups associated with <code>petName</code>, hence it is seen as a <em>static validation</em> and always applied.</p>
</li>
<li>
<p><code>dogFood</code> - <code>GROUP_1.class</code> is present within the <code>@NotNull&#8217;s `groups</code> attribute, and this is matching <code>petType&#8217;s
`@ValidateConditional&#8217;s `targetGroup</code> attribute(<code>GROUP_1.class</code>) and is applied.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The validations that will not be applied are: <code>catFood</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>catFood</em> - While <em>catFood</em> has an entry in <code>@NotNull&#8217;s `groups</code> attribute(<code>GROUP_2.class</code>), it is not matching <code>@ValidateConditional&#8217;s
`targetGroup</code> attribute(<code>GROUP_1.class</code>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Specifying a Validation Group</div>
<p>As seen in the previous example, there may be many params decorated with <em>javax.validation.constraints</em>. The framework needs to uniquely
identify which validations should be applied when the <code>when</code> condition is <strong>true</strong>. To handle this, the <code>groups</code> attribute will be used as
it is supplied by of all <em>javax.validation.constraints</em> annotation classes. The final subset of params where validations will be applied
will be composed of only those whos <code>groups</code> attribute contains the <code>@ValidateConditional</code> <code>targetGroup</code> attribute.</p>
</div>
<div class="paragraph">
<p><code>@ValidateConditional&#8217;s `targetGroup</code> parameter is simply a marker interface of type <code>ValidationGroup</code> to be used for identification
purposes by the framework to identify the subset of params.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use <a href="_validateconditionals"><code>@ValidateConditionals</code></a> when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Different groups should be applied based on multiple <em>when</em> conditions</p>
</li>
<li>
<p>Multiple groups should be applied for the same <em>when</em> condition</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Validation Group Identity Classes</div>
<p>In the previous example, we used <code>targetGroup = GROUP_1.class</code>. <code>GROUP_1.class</code> is an identity class that implements the
<code>ValidationGroup</code> interface and is used by the framework to identify <em>javax.validation.constraints</em> annotatons that should be applied.</p>
</div>
<div class="paragraph">
<p>Any implementation that implements the <em>ValidationGroup</em> interface may be used as a group identity class. For convenience, a set of
identify class implementations have been defined within <code>@ValidateConditional</code> as <code>GROUP_<strong>X</strong>.class</code>, where 0 &lt;= <strong>X</strong> &lt;= 29.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If additional marker classes are needed, simply create a new implementation of <code>ValidationGroup</code> and use that class in the <code>targetGroup</code>
attribute as well as the corresponding param&#8217;s <em>javax.validation.constraints</em> annotation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Controlling Scope</div>
<p>The framework has provides the ability to define a <code>ValidationScope</code> as part of <code>@ValidateConditional&#8217;s `scope</code> to provide control over which params should be considered for conditional validation. The following scopes are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">@ValidateConditional Scopes</caption>
<colgroup>
<col style="width: 23.0769%;">
<col style="width: 76.9231%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SIBLING</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applies validations to sibling params relative to the target param.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>CHILDREN</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applies validations to children params relative to the target param.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Scopes are recursive in that all nested params underneath params located in the scopes identified above would also have conditional validations applied.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Specifying Target Path</div>
<p>There may be a need to apply conditional validations to one or many different paths based on some <code>when</code> condition decorating a single param. The attribute <code>targetPath</code> can be used to target one or more paths to apply conditional validation to when a corresponding <code>when</code> condition is <code>true</code>. Consider the scenario below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Section1</span> {

    <span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
    <span class="annotation">@Calendar</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> dateOfBirth;

    ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Section2</span> {

    <span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
    <span class="annotation">@Calendar</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> neuterDate;

    ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'dog'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">../section1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">../section2</span><span class="delimiter">&quot;</span></span> }, scope = ValidationScope.CHILDREN)
<span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> petType;

<span class="directive">private</span> Section1 section1;

<span class="directive">private</span> Section2 section2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this scenario, the configuration for <code>petType</code> mandates that both <code>section1</code> and <code>section2</code> would be targetted and all children params of these sections (recursive) would have conditional validation applied if <code>GROUP_1.class</code> is present on the <code>Constraint</code> annotation.</p>
</div>
<div class="paragraph">
<p>In this case, both <code>dateOfBirth</code> and <code>neuterDate</code> would have conditional validation applied.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Similar behavior could have been achieved by omitting the <code>targetPath</code> attribute and using <code>ValidationScope.SIBLING</code>. This was simply an example to portrait the flexibility of <code>targetPath</code> and <code>scope</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-values-conditional">ValuesConditional</h5>
<div class="paragraph">
<p><code>@ValuesConditional</code> is an extension capability provided by the framework. The annotation is used to conditionally set the <code>@Values</code> configuration for a dependent field based on a SpEL condition.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@ValuesConditional</code> can be found in <code>ValuesConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Consider the following sample defined Values:</p>
</div>
<div class="listingblock">
<div class="title">SampleValues.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Sample Values Implementations</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SRC_FOODS_ALL</span> <span class="directive">implements</span> <span class="predefined-type">Source</span> {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; getValues(<span class="predefined-type">String</span> paramCode) {
        <span class="directive">final</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; values = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
        values.add(<span class="keyword">new</span> ParamValue(<span class="string"><span class="delimiter">&quot;</span><span class="content">Generic Food 1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Generic Food 1</span><span class="delimiter">&quot;</span></span>));
        values.add(<span class="keyword">new</span> ParamValue(<span class="string"><span class="delimiter">&quot;</span><span class="content">Generic Food 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Generic Food 2</span><span class="delimiter">&quot;</span></span>));
        <span class="keyword">return</span> values;
    }
}
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SRC_FOODS_DOG</span> <span class="directive">implements</span> <span class="predefined-type">Source</span> {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; getValues(<span class="predefined-type">String</span> paramCode) {
        <span class="directive">final</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; values = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
        values.add(<span class="keyword">new</span> ParamValue(<span class="string"><span class="delimiter">&quot;</span><span class="content">Dog Food 1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Dog Food 1</span><span class="delimiter">&quot;</span></span>));
        <span class="keyword">return</span> values;
    }
}
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SRC_FOODS_CAT</span> <span class="directive">implements</span> <span class="predefined-type">Source</span> {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; getValues(<span class="predefined-type">String</span> paramCode) {
        <span class="directive">final</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; values = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
        values.add(<span class="keyword">new</span> ParamValue(<span class="string"><span class="delimiter">&quot;</span><span class="content">Cat Food 1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cat Food 1</span><span class="delimiter">&quot;</span></span>));
        <span class="keyword">return</span> values;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Given a defined set of Values that we can assign using the @Values annotation, we can explicitly define conditions to set a dependent field&#8217;s values.</p>
</div>
<div class="listingblock">
<div class="title">ValuesConditional.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">StatusForm</span> {

    <span class="annotation">@ValuesConditional</span>(target = <span class="string"><span class="delimiter">&quot;</span><span class="content">../petFoodSelection</span><span class="delimiter">&quot;</span></span>, condition = {
            <span class="annotation">@Condition</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state=='dog'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(SRC_FOODS_DOG.class)),
            <span class="annotation">@Condition</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state=='cat'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(SRC_FOODS_CAT.class)),
        }
    )
    <span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> petType;

    <span class="annotation">@Radio</span>
    <span class="annotation">@Values</span>(SRC_FOODS_ALL.class)
    <span class="directive">private</span> <span class="predefined-type">String</span> petFoodSelection;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, <em>petType</em> is the field and <em>petFoodSelection</em> is the dependent field. We set <em>petFoodSelection</em> to contain the defaults ["Generic Food 1", "Generic Food 2"] initially and conditionally define those values when <em>petType</em>'s state is "dog" or "cat".</p>
</div>
<div class="paragraph">
<p>When the state of <em>petType</em> is "dog", then the Values for <em>petFoodSelection</em> will be ["Dog Food 1"]. Similarly when the state of <em>petType</em> is "cat", then the Values for <em>petFoodSelection</em> will be ["Cat Food 1"].</p>
</div>
<div class="paragraph">
<p>Conceptually speaking, we are <strong>pushing</strong> the updates of Values to the dependent field whenever the state of the annotated field loads or is changed.</p>
</div>
</div>
<div class="sect4">
<h5 id="config-annotations-visible-conditional">VisibleConditional</h5>
<div class="paragraph">
<p><code>@VisibleConditional</code> is an extension capability provided by the framework. The annotation is used to conditionally set the UI visibility of a param based on a SpEL condition.</p>
</div>
<div class="paragraph">
<p>The logic for <code>@VisibleConditional</code> can be found in <code>VisibleConditionalStateEventHandler</code>. The handler logic will be executed during the following framework events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnStateLoad</p>
</li>
<li>
<p>OnStateChange</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">VisibleConditional.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@VisibleConditional</span>(when=<span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'hooli'</span><span class="delimiter">&quot;</span></span>, targetPath=<span class="string"><span class="delimiter">&quot;</span><span class="content">../p2</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> p1;

<span class="directive">private</span> <span class="predefined-type">String</span> p2;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="core-config-annotations">5.1.2. Core Config Annotations</h4>
<div class="sect4">
<h5 id="core-config-annotation-concept-id">ConceptId</h5>
<div class="listingblock">
<div class="title">ConceptId.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@ConceptId</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">IOT1.1.1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">If Other, provide reason</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> otherReason;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-config">Config</h5>
<div class="paragraph">
<p><code>@Config</code> is core annotation that handles the execution of a <a href="#command-dsl">Nimbus Command DSL statement</a>.</p>
</div>
<div class="listingblock">
<div class="title">Config.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/pageAddEditGoal/tileEditGoal/sectionEditGoal/goalDetailsForm/_nav?pageId=pageCarePlanSummary</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>(type = <span class="predefined-type">Button</span>.Type.PLAIN)
<span class="directive">private</span> <span class="predefined-type">String</span> cancel;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-config-nature">ConfigNature</h5>
<div class="sect5">
<h6 id="core-config-annotation-config-nature-ignore">Ignore</h6>
<div class="paragraph">
<p>Framework persists the data objects of a class in database using @Repo by serializing the class and associating a version number that is called seriaVersionUID.
However, if we do not want the framwework to serialize for time being, we can use @Ignore component of ConfigNature class. The following example shows that: -</p>
</div>
<div class="listingblock">
<div class="title">StartsWith.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">patient</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.persistence})
<span class="annotation">@Repo</span>(value=Database.rep_mongodb, cache=Cache.rep_device)
<span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Patient</span> <span class="directive">extends</span> IdString {

    <span class="annotation">@Ignore</span>
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">long</span> serialVersionUID = <span class="integer">1L</span>;

    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-domain">Domain</h5>
<div class="paragraph">
<p>Core Config configuration @Domain annotation persists data.<br></p>
</div>
<div class="paragraph">
<p>Core config @Domain will always be followed by @Repo that will specify the way data is persisted.<br></p>
</div>
<div class="paragraph">
<p><strong>includeListeners={ListenerType.persistence, ListenerType.update}</strong> of @Domain
specifies that the data will be persisted.<br>
<strong>value=Database.rep_mongodb</strong> of @Repo specifies that a class with
@Domain annotation will use MongoDb for persistence.</p>
</div>
<div class="listingblock">
<div class="title">Domain.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">cmcase</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.persistence, ListenerType.update})
<span class="annotation">@Repo</span>(value=Database.rep_mongodb, cache=Cache.rep_device)
<span class="directive">public</span> <span class="type">class</span> <span class="class">CMCase</span> <span class="directive">extends</span> IdString {
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Please read @Repo for mroe information regarding @Repo annotation.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-domain-meta">DomainMeta</h5>
<div class="paragraph">
<p>Similar to ViewStyle component, DomainMeta component is used to define an ANNOTATION_TYPE level annotation that is used with few view config annotations,
as follows: -<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>@ConceptId</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
    <span class="annotation">@Target</span>(value={<span class="predefined-type">ElementType</span>.ANNOTATION_TYPE})
    <span class="annotation">@Inherited</span>
    <span class="directive">public</span> <span class="annotation">@interface</span> DomainMeta {

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is an example: -</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
    <span class="annotation">@Target</span>({<span class="predefined-type">ElementType</span>.FIELD})
    <span class="annotation">@DomainMeta</span>
    <span class="directive">public</span> <span class="annotation">@interface</span> ConceptId {
        <span class="predefined-type">String</span> value() <span class="keyword">default</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-execution">Execution</h5>
<div class="paragraph">
<p>Execution is inherited annotation for @Config and @KeyValue. It is not currently being directly used, but is there for hieracrchial purposes.</p>
</div>
<div class="paragraph">
<p>More documentation will be added here if Execution expands or is directly used.</p>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-initialize">Initialize</h5>
<div class="listingblock">
<div class="title">Initialize.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Section</span>
<span class="annotation">@Initialize</span>
<span class="annotation">@Config</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">/vpAdvancedMemberSearch/vtAdvancedMemberSearch/vsMemberSearchCriteria/vfAdvMemberSearch/_process?fn=_setByRule&amp;rule=updateadvmbrsearchcriteria</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VSMemberSearchCriteria vsMemberSearchCriteria;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-maps-to">MapsTo</h5>
<div class="sect5">
<h6 id="core-config-annotation-maps-to-path">Path</h6>
<div class="listingblock">
<div class="title">Path.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Path</span>()
<span class="directive">private</span> <span class="predefined-type">Long</span> version;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="core-config-annotation-maps-to-type">Type</h6>
<div class="listingblock">
<div class="title">Type.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(CMCase.class)
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SectionEditGoal</span>  {
    }</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If it is not mapped <em>(@Mapped)</em>, an exception will be thrown.<br>
If no exception is thrown, defaults to silent.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-model">Model</h5>
<div class="paragraph">
<p><code>@Model</code> is a marker annotation for the framework to acknoledge an class declaration as a <em>model</em> entity. Useful when created "nested entities".</p>
</div>
<div class="paragraph">
<p>Model is similar to <a href="#core-config-annotation-domain">Domain</a>, except that domain is seen as the "root" entity, or the topmost parent in a nested entity. Typically, model is expected to be used on nested class declarations. See the following example:</p>
</div>
<div class="listingblock">
<div class="title">Parent.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">parent</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Parent</span> {

    <span class="directive">private</span> Child1 child;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Child1.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Child1</span> {

    <span class="directive">private</span> Child2 child;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Child2.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span> <span class="annotation">@ToString</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Child2</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the object hierarchy is <code>Parent</code> &gt; <code>Child1</code> &gt; <code>Child2</code>, where <code>Child1</code> and <code>Child2</code> are decorated with <code>@Modal</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-param-context">ParamContext</h5>
<div class="paragraph">
<p><strong>@ParamContext</strong> is used to set the contextual properties of a field during the <em>OnStateLoad</em> event (e.g. <em>visible</em>, <em>enabled</em>).</p>
</div>
<div class="paragraph">
<p>The intent of <strong>@ParamContext</strong> is to be able to decorate fields to define default contextual behavior. For example:</p>
</div>
<div class="listingblock">
<div class="title">SampleView.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleView</span> {

   <span class="annotation">@TextBox</span>
   <span class="annotation">@ParamContext</span>(enabled=<span class="predefined-constant">false</span>, visible=<span class="predefined-constant">false</span>)
   <span class="directive">private</span> <span class="predefined-type">String</span> myTextBox;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this scenario we have configured the contextual values for <em>enabled</em> and <em>visible</em> to be <strong>false</strong> for <em>myTextBox</em>. These values will
be set during the <em>OnStateLoad</em> event and <em>myTextBox</em> consequently will not be enabled or visible when the corresponding page is rendered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<strong>@ParamContext</strong> can also be defined on annotations. In these scenarios when a field is decorated with that annotation, then the
handler for <strong>@ParamContext</strong> will execute. This may be useful when building a framework extension.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-print-config">PrintConfig</h5>
<div class="paragraph">
<p>Defines print configuration that should be applied when invoking the print action on a view component.</p>
</div>
<div class="paragraph">
<div class="title">Decoratable Fields</div>
<p><code>@PrintConfig</code> currently is currently supported for the following components:</p>
</div>
<div class="paragraph">
<p><a href="#view-config-annotation-button">Button</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Button</span>(style = <span class="predefined-type">Button</span>.Style.PRINT, printPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">/domain/page/tile/modal</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@PrintConfig</span>(autoPrint = <span class="predefined-constant">false</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> print;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-search-nature">SearchNature</h5>
<div class="sect5">
<h6 id="core-config-annotation-search-nature-starts-with">StartsWith</h6>
<div class="paragraph">
<p>This component is ued to validate a field. The wilcard attribute determines the validation criteria for a field. This is a server side component.</p>
</div>
<div class="listingblock">
<div class="title">StartsWith.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@NotNull</span>
<span class="annotation">@StartsWith</span>
<span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">First Name</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> firstName;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The example will always search the first name that starts with anything, represented with the default value. A specific search criteria can be
specified using wildcard attribute of @StartsWith.
</td>
</tr>
</table>
</div>
<h5 id="core-config-annotation-repo" class="discrete">Repo</h5>
<div class="paragraph">
<p>@Repo is used to determine where the data will be persisted. It is always used along with @Domain.</p>
</div>
</div>
<div class="sect5">
<h6 id="core-config-annotation-rep_mongodb">rep_mongodb</h6>
<div class="paragraph">
<p>The following example shows how data is persisted/ retrieved using MongoDB as a source.</p>
</div>
<div class="listingblock">
<div class="title">Repo.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">cmassessment</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.persistence})
<span class="annotation">@Repo</span>(alias=<span class="string"><span class="delimiter">&quot;</span><span class="content">cmassessment</span><span class="delimiter">&quot;</span></span>,value=Database.rep_mongodb, cache=Cache.rep_device)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">CMAssessment</span> <span class="directive">extends</span> IdString {
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-rule">Rule</h5>
<div class="paragraph">
<p>@Rule allows its decorated field a mechanism for triggering one or more rule definitions during its OnStateLoad and OnStateChange events.</p>
</div>
<div class="listingblock">
<div class="title">SampleRuleEntity.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_rule_entity</span><span class="delimiter">&quot;</span></span>, includeListeners={ListenerType.persistence})
<span class="annotation">@Repo</span>(Database.rep_mongodb)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleRuleEntity</span> {

    <span class="comment">// Execute the rule at &quot;rules/sample_increment&quot; during the OnStateLoad and</span>
    <span class="comment">// OnStateChange events of ruleParam.</span>
    <span class="annotation">@Rule</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">rules/sample_increment</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> rule_param;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the framework provides support for firing all rules for a given domain entity. That is, for the <strong>SampleRuleEntity.java</strong> above we might have a rule file defined as <strong>sample_rule_entity.drl</strong> which will be automatically fired by naming convention.</p>
</div>
<div class="paragraph">
<p>For cases where additional configuration for other rules is needed, @Rule can be used.</p>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-values">Values</h5>
<div class="paragraph">
<p>Values provides a mechanism for populating a fields <em>values</em> property. This can be used by a number of components
to perform such functions as: define a set of selections for radio buttons and checkboxes, or populating a dropdown list.</p>
</div>
<div class="sect5">
<h6 id="core-config-annotation-values-source">Source</h6>
<div class="paragraph">
<p>The Source is a simple abstraction for providing a contract between implementations to provide data to the framework.</p>
</div>
<div class="paragraph">
<p>Source is exclusively used for <strong>@Values</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Source.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">interface</span> <span class="class">Source</span> {
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; getValues(<span class="predefined-type">String</span> paramCode);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can use this to define several different types of values providers. A simple static Source implementation is shown below:</p>
</div>
<div class="listingblock">
<div class="title">SampleStaticSource.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">SampleStaticSource</span> <span class="directive">implements</span> <span class="predefined-type">Source</span> {
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ParamValue&gt; getValues(<span class="predefined-type">String</span> paramCode) {
        <span class="predefined-type">List</span>&lt;ParamValue&gt; values = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>();
        values.add(<span class="keyword">new</span> ParamValue(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample.value.1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Sample Value 1</span><span class="delimiter">&quot;</span></span>));
        <span class="keyword">return</span> values;
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="core-config-annotation-apimetriccollection">EnableAPIMetricCollection</h5>
<div class="paragraph">
<p>@EnableAPIMetricCollection allows its decorated class, method level logging mechanism with log entries for method - <strong>entry</strong>, <strong>exit</strong>, <strong>arguments</strong> and <strong>response</strong>. It can be configured with log level of <em>info</em> or <em>debug</em> for arguments and response.</p>
</div>
<div class="listingblock">
<div class="title">EnableAPIMetricCollection.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableAPIMetricCollection</span>(args=LogLevel.info,resp=LogLevel.info)
<span class="annotation">@Getter</span>(value=AccessLevel.PROTECTED)
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleMetricLog</span> {

    <span class="directive">public</span> <span class="predefined-type">Object</span> calculate(<span class="predefined-type">String</span> input) {
        <span class="comment">// some logic</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By Default, the logging level for arguments &amp; response is <em>debug</em> and <em>info</em> for entry and exit. Also, method exit logs the execution time of the method in milliseconds.</p>
</div>
<div class="paragraph">
<p>Client applications can annotate the custom config beans with @EnableAPIMetricCollection to enable a similar logging mechanism.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">EnableAPIMetricCollection Attributes</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-center valign-top">Type</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">args</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LogLevel</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LogLevel for logging method arguments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resp</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LogLevel</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LogLevel for logging method response</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="view-config-annotations">5.1.3. View Config Annotations</h4>
<div class="sect4">
<h5 id="view-config-annotation-accordion">Accordion</h5>
<div class="paragraph">
<p>Accordion groups a collection of contents in tabs.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-accordion-tab">AccordionTab</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Accordion</span>
<span class="directive">private</span> VAQuestionnaire vaQuestionnaire;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VAQuestionnaire</span> {

    <span class="annotation">@AccordionTab</span>
    <span class="directive">private</span> VATTab1 vatTab1;

    <span class="annotation">@AccordionTab</span>
    <span class="directive">private</span> VATTab2 vatTab2;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VATTab1</span> { ... }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VATTab2</span> { ... }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="view-config-annotation-accordion-tab">AccordionTab</h6>
<div class="paragraph">
<p>AccordionTab contains a collection of contents for an individual section within an Accordion.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-accordion">Accordion</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>Accordion Tab supports all of the same children that are supported as children by <a href="#view-config-annotation-form">Form</a>.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@AccordionTab</span>
<span class="directive">private</span> VATTab1 vatTab1;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VATTab1</span> {

    <span class="annotation">@TextBox</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> txt1;

    <span class="annotation">@ButtonGroup</span>
    <span class="directive">private</span> VBGMain vbgMain;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-action-tray">ActionTray</h5>
<div class="paragraph">
<p>ActionTray is an extension to the standard button input element with icons and theming.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#core-config-annotation-domain">Domain</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
ActionTray can only be contained within a View Layout definition.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-button">Button</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ActionTray</span>
<span class="directive">private</span> VSActionTray vsActionTray;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSActionTray</span> {

    <span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Button</span>(imgSrc = <span class="string"><span class="delimiter">&quot;</span><span class="content">fa-id-card</span><span class="delimiter">&quot;</span></span>, cssClass = <span class="string"><span class="delimiter">&quot;</span><span class="content">icon btn btn-icon mr-0</span><span class="delimiter">&quot;</span></span>, title = <span class="string"><span class="delimiter">&quot;</span><span class="content">Record a Contact</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> contactRecord;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-autocomplete">Autocomplete</h5>
<div class="paragraph">
<p>Autocomplete is a text input component.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Autocomplete</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Autocomplete</span>(display=<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>, postEventOnChange = <span class="predefined-constant">true</span>, minLength = <span class="integer">2</span>)
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/owner/_search?fn=lookup&amp;where=owner.firstName.containsIgnoreCase('&lt;!autocompletesearchvalue!&gt;')&amp;projection.mapsTo=code:id,label:firstName</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> autocompleteField;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-button">Button</h5>
<div class="paragraph">
<p>Button is an extension to the standard button input element with icons and theming.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-action-tray">ActionTray</a>,
<a href="#view-config-annotation-button-group">ButtonGroup</a>,
<a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-grid">Grid</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Button</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Button</span>(type = <span class="predefined-type">Button</span>.Type.DESTRUCTIVE)
<span class="directive">private</span> <span class="predefined-type">String</span> delete;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-button-group">ButtonGroup</h5>
<div class="paragraph">
<p>ButtonGroup contains a collection of <a href="#view-config-annotation-button">Button</a> components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-button">Button</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ButtonGroup</span>(cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">text-sm-right</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VBGGoals vbgGoals;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VBGGoals</span> {

    <span class="annotation">@Button</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> btn1;

    <span class="annotation">@Button</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> btn2;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-calendar">Calendar</h5>
<div class="paragraph">
<p>Calendar is an input component to select a date.</p>
</div>
<div class="ulist">
<div class="title">Allowed Parent Components</div>
<ul>
<li>
<p><a href="#view-config-annotation-form">Form</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Calendar</code> should decorate a field having a simple type of a supported date type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LocalDate</code></p>
</li>
<li>
<p><code>LocalDateTime</code></p>
</li>
<li>
<p><code>ZonedDateTime</code></p>
</li>
<li>
<p><code>Date</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Path</span>
<span class="annotation">@Calendar</span>(postEventOnChange=<span class="predefined-constant">true</span>, showtime=<span class="predefined-constant">true</span>, hourFormat=<span class="string"><span class="delimiter">&quot;</span><span class="content">24</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> LocalDate startDate;

<span class="annotation">@Path</span>
<span class="annotation">@Calendar</span>(postEventOnChange=<span class="predefined-constant">true</span>, timeOnly=<span class="predefined-constant">true</span>)
<span class="directive">private</span> LocalDateTime startDate;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-card-detail">CardDetail</h5>
<div class="paragraph">
<p>CardDetail is a flexible container component.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-accordion">Accordion</a>,
<a href="#view-config-annotation-accordion-tab">AccordionTab</a>,
<a href="#view-config-annotation-card-details-grid">CardDetailsGrid</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-card-detail-header">CardDetail.Header</a>,
<a href="#view-config-annotation-card-detail-body">CardDetail.Body</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CardDetail</span>(title=<span class="string"><span class="delimiter">&quot;</span><span class="content">Member Overview</span><span class="delimiter">&quot;</span></span>, cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">contentBox right-gutter bg-alternate mt-0</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VCDMember vcdMember;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDMember</span> {

    <span class="annotation">@CardDetail</span>.Header
    VCDHMain header;

    <span class="annotation">@CardDetail</span>.Body
    VCDBMain body;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDHMain</span> { ... }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDBMain</span> { ... }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>contentBox right-gutter bg-alternate mt-0</strong> overrides the default cssClass specified for the <code>@CardDetail</code> component.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="view-config-annotation-card-detail-body">CardDetail.Body</h6>
<div class="paragraph">
<p>CardDetail.Body is a container component within <a href="#view-config-annotation-card-detail">CardDetail</a> that contains the main content.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail">CardDetail</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-field-value">FieldValue</a>,
<a href="#view-config-annotation-link">Link</a>,
<a href="#view-config-annotation-paragraph">Paragraph</a>,
<a href="#view-config-annotation-static-text">StaticText</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CardDetail</span>.Body
VCDBMain body;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDBMain</span> {

    <span class="annotation">@FieldValue</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> value1;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="view-config-annotation-card-detail-header">CardDetail.Header</h6>
<div class="paragraph">
<p>CardDetail.Header is a container component within <a href="#view-config-annotation-card-detail">CardDetail</a> that contains the header content.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail">CardDetail</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-button-group">ButtonGroup</a>,
<a href="#view-config-annotation-field-value">FieldValue</a>,
<a href="#view-config-annotation-paragraph">Paragraph</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CardDetail</span>.Header
VCDHMain header;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDHMain</span> {

    <span class="annotation">@FieldValue</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> value1;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-card-details-grid">CardDetailsGrid</h5>
<div class="paragraph">
<p>CardDetailsGrid contains a collection of <a href="#view-config-annotation-card-detail">CardDetail</a> components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-accordion">Accordion</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>A field decorated with <code>@CardDetailsGrid</code> should be a collection/array with a defined type. The defined type is treated as the definition for the row data in the rendered content. This is referred to as the <em>collection element type</em>. The allowed children components of the collection element&#8217;s type are:</p>
</div>
<div class="paragraph">
<p><a href="#view-config-annotation-card-detail">CardDetail</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CardDetailsGrid</span>(onLoad = <span class="predefined-constant">true</span>)
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;ConcernsLineItem&gt; vcdgConcerns;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">ConcernsLineItem</span> {

    <span class="annotation">@CardDetail</span>
    <span class="directive">private</span> VCDMain vcdMain;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDMain</span> { ... }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-chart">Chart</h5>
<div class="paragraph">
<p>Chart renders a visually appealing graph/chart based on an open source HTML5 based charting library: Charts.js</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Chart</code> should decorate a field having a collection with type <code>DataGroup</code> (e.g. <code>List&lt;DataGroup&gt;</code>.)</p>
</div>
<div class="ulist">
<div class="title">Allowed Chart Types</div>
<ul>
<li>
<p>Line</p>
</li>
<li>
<p>Bar</p>
</li>
<li>
<p>Pie</p>
</li>
<li>
<p>Doughnut</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Attributes</div>
<ul>
<li>
<p><code>xAxisLabel</code> = ``</p>
<div class="ulist">
<ul>
<li>
<p>Applicable only for cartesian graphs and denotes the label to be shown for X-axis</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>yAxisLabel</code> = ``</p>
<div class="ulist">
<ul>
<li>
<p>Applicable only for cartesian graphs and denotes the label to be shown for Y-axis</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>stepSize</code> = ``</p>
<div class="ulist">
<ul>
<li>
<p>Applicable only for cartesian graphs and denotes the incrments of the Y-axis. If not given, the size would be random based on the Y-axis values supplied to the graph</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Bar Graph</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Chart</span>(value=<span class="predefined-type">Type</span>.BAR, xAxisLabel=<span class="string"><span class="delimiter">&quot;</span><span class="content">Domain</span><span class="delimiter">&quot;</span></span>, yAxisLabel=<span class="string"><span class="delimiter">&quot;</span><span class="content">Count</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;DataGroup&gt; barGraph;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Line Graph</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Chart</span>(value=<span class="predefined-type">Type</span>.LINE, xAxisLabel=<span class="string"><span class="delimiter">&quot;</span><span class="content">Domain</span><span class="delimiter">&quot;</span></span>, yAxisLabel=<span class="string"><span class="delimiter">&quot;</span><span class="content">Count</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;DataGroup&gt; lineGraph;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Pie Graph</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Chart</span>(value=<span class="predefined-type">Type</span>.PIE)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;DataGroup&gt; pieGraph;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Doughnut Chart</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Chart</span>(value=<span class="predefined-type">Type</span>.DOUGHNUT)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;DataGroup&gt; doughnutGraph;</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_data_type_of_chart">Data Type of Chart</h6>
<div class="paragraph">
<p>Every chart that is configured with a datatype as <code>List&lt;DataGroup&gt;</code>. In a chart there could be 1 or more graphs that can be plotted. Each <code>DataGroup</code> qualifies to be painted as a graph. A <code>DataGroup</code> has a <code>legend</code> that indicates what the graph is and has a list of x,y co-ordinates.</p>
</div>
<div class="paragraph">
<p>If line graph configured above has the following dataset provided to the UI -</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">[
    {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">legend</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Region 1</span><span class="delimiter">&quot;</span></span>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">datapoints</span><span class="delimiter">&quot;</span></span>: [
            {<span class="integer">1</span>,<span class="integer">1</span>},{<span class="integer">2</span>,<span class="integer">2</span>},{<span class="integer">3</span>,<span class="integer">3</span>}
        ]<span class="error">`</span><span class="error">`</span>
    }
    {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">legend</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Region 2</span><span class="delimiter">&quot;</span></span>
        <span class="key"><span class="delimiter">&quot;</span><span class="content">datapoints</span><span class="delimiter">&quot;</span></span>: [
            {<span class="integer">10</span>,<span class="integer">10</span>},{<span class="integer">20</span>,<span class="integer">20</span>},{<span class="integer">30</span>,<span class="integer">30</span>}
        ]
    }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>There would be 2 line graphs rendered on the page, one for Region 1 and the other for Region 2.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-check-box">CheckBox</h5>
<div class="paragraph">
<p>Checkbox is an extension to standard checkbox element.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@CheckBox</code> should decorate a field having a simple type of <code>Boolean</code> or <code>boolean</code>.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CheckBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="type">boolean</span> admin;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-check-box-group">CheckBoxGroup</h5>
<div class="paragraph">
<p>CheckBoxGroup is used for multi-select <a href="#view-config-annotation-check-box">CheckBox</a> components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@CheckBoxGroup</code> should decorate a field having a collection/array of type <code>String</code>.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CheckBoxGroup</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> days;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-combo-box">ComboBox</h5>
<div class="paragraph">
<p>Combobox is used to select an item from a collection of options.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@ComboBox</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Path</span>
<span class="annotation">@Values</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ComboBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> goalCategory;</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Supplying Values to a ComboBox</div>
<p>When decorated with <code>@Values</code>, the resolved values as defined by the logic within <a href="#core-config-annotation-values">Values</a> will be used as the options for the rendered <code>@ComboBox</code> component.</p>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-field-value">FieldValue</h5>
<div class="paragraph">
<p>FieldValue is a container for displaying a single value. Has the ability to become an in place edit field with several configurable properties.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail-body">CardDetail.Body</a>,
<a href="#view-config-annotation-card-detail-header">CardDetail.Header</a>,
<a href="#view-config-annotation-field-value-group">FieldValueGroup</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@FieldValue</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(Goal.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VCDHGoals</span> {

    <span class="annotation">@FieldValue</span>(showName = <span class="predefined-constant">false</span>, cols = <span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> description;

    <span class="annotation">@FieldValue</span>(showName = <span class="predefined-constant">false</span>, iconField = <span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Path</span>
    <span class="directive">private</span> LocalDate targetDate;

    <span class="annotation">@FieldValue</span>(showName = <span class="predefined-constant">false</span>, iconField = <span class="string"><span class="delimiter">&quot;</span><span class="content">planned</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/status</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> status;

    <span class="annotation">@FieldValue</span>(showName = <span class="predefined-constant">false</span>, datePattern = <span class="string"><span class="delimiter">&quot;</span><span class="content">MM/dd/yyyy</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Path</span>
    <span class="directive">private</span> LocalDate startDate;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-field-value-group">FieldValueGroup</h5>
<div class="paragraph">
<p>FieldValue is a container for displaying a logical grouping of multiple <a href="#view-config-annotation-field-value">FieldValue</a> components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail-body">CardDetail.Body</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-field-value">FieldValue</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FieldValueGroup</span>
<span class="directive">private</span> AddressGroup addressGroup;

<span class="annotation">@MapsTo</span>.Type(Address.java)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">AddressGroup</span> {

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> line1;

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> line2;

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> city;

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> state;

    <span class="annotation">@FieldValue</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> zip;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-file-upload">FileUpload</h5>
<div class="paragraph">
<p>FileUpload is an advanced uploader with dragdrop support, multi file uploads, auto uploading, progress tracking and validations.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@FileUpload</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FileUpload</span>(type = <span class="string"><span class="delimiter">&quot;</span><span class="content">${app.config.upload.allowedTypes}</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> uploader;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-form">Form</h5>
<div class="paragraph">
<p>A Form is an HTML form container for user input contents.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-accordion">Accordion</a>,
<a href="#view-config-annotation-button">Button</a>,
<a href="#view-config-annotation-button-group">ButtonGroup</a>,
<a href="#view-config-annotation-calendar">Calendar</a>,
<a href="#view-config-annotation-check-box">CheckBox</a>,
<a href="#view-config-annotation-check-box-group">CheckBoxGroup</a>,
<a href="#view-config-annotation-combo-box">ComboBox</a>,
<a href="#view-config-annotation-file-upload">FileUpload</a>,
<a href="#view-config-annotation-form-element-group">FormElementGroup</a>,
<a href="#view-config-annotation-grid">Grid</a>,
<a href="#view-config-annotation-header">Header</a>,
<a href="#view-config-annotation-input-mask">InputMask</a>,
<a href="#view-config-annotation-paragraph">Paragraph</a>,
<a href="#view-config-annotation-pick-list">PickList</a>,
<a href="#view-config-annotation-radio">Radio</a>,
<a href="#view-config-annotation-rich-text">RichText</a>,
<a href="#view-config-annotation-signature">Signature</a>,
<a href="#view-config-annotation-text-area">TextArea</a>,
<a href="#view-config-annotation-text-box">TextBox</a>
<a href="#view-config-annotation-tree-grid">TreeGrid</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Form</span>(cssClass = <span class="string"><span class="delimiter">&quot;</span><span class="content">twoColumn</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>, state = State.External)
<span class="directive">private</span> VFGoals vfGoals;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFGoals</span> { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-form-element-group">FormElementGroup</h5>
<div class="paragraph">
<p>FormElementGroup is a grouping container that enables the form elements to be grouped in such a way that they appear to look as a sub section of the form.
For example if there is a Name of person that needs to be gathered with 3 sub fields <code>firstName</code>, <code>middleName</code> and <code>lastName</code>, this can be displayed as a FormElementGroup for better user experience.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSAddEditForm</span> {

    <span class="annotation">@Form</span>
    <span class="directive">private</span> VFAddEditForm vfAddEditForm;
}

<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VFAddEditForm</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@FormElementGroup</span>(cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">oneColumn</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> SectionName sectionName;

}

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SectionName</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">First Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>(cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">inline</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@NotNull</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> firstName;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Middle Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>(cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">inline</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@NotNull</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> middleName;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Last Name</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TextBox</span>(cssClass=<span class="string"><span class="delimiter">&quot;</span><span class="content">inline</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@NotNull</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> lastName;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code illustrates the usecase of showing name field in the form of a sub group of 3 other fields and gives the visual experience of grouping them for better undertanding.
The css class "oneColumn" helps in formatting the fields as if they fall under the "name" field.
If the existing style classes are not sufficient, a custom css class can be added to the app styles and be used.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p>TODO</p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>TODO</p>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-grid">Grid</h5>
<div class="paragraph">
<p>Grid is a table container capable of displaying tabular data.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><code>@Grid</code> should decorate a field having a collection/array with a defined type. The defined type is treated as the definition for the row data in the rendered HTML table. This is referred to as the <em>collection element type</em>. The allowed children components of the collection element&#8217;s type are:</p>
</div>
<div class="paragraph">
<p><a href="#view-config-annotation-grid-column">GridColumn</a>,
<a href="#view-config-annotation-link-menu">LinkMenu</a>,
<a href="#view-config-annotation-grid-row-body">GridRowBody</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Grid</span>(<span class="keyword">export</span>=<span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;PetLineItem&gt; vgPets;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PetLineItem</span> {

    <span class="annotation">@GridColumn</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> field1;

    <span class="annotation">@LinkMenu</span>
    <span class="directive">private</span> VLMMain vlmMain;

    <span class="annotation">@GridRowBody</span>
    <span class="directive">private</span> ExpandedRowContent expandedRowContent;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VLMMain</span> { ... }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">ExpandedRowContent</span> { ... }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_multiple_row_selection">Multiple row selection</h6>
<div class="paragraph">
<p><code>@Grid</code> offers the ability to select multiple rows of data and submit the indexes of the selected rows as JSON data to the server for processing.</p>
</div>
<div class="paragraph">
<p>To enable this feature, the following attributes must be set:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rowSelection</code> = <code>true</code></p>
<div class="ulist">
<ul>
<li>
<p>renders a checkbox at the beginning of each row in the table for row selection</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>postButton</code> = <code>true</code></p>
<div class="ulist">
<ul>
<li>
<p>renders a button below the rendered <code>@Grid</code> that when clicked, submits an HTTP POST request with a payload containing the selected index to the path at <code>postButtonUri</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>postButtonUri</code></p>
<div class="ulist">
<ul>
<li>
<p>a parameter path relative to the decorated <code>@Grid</code> parameter to invoke an HTTP POST request on with the selected indexes</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>postButtonTargetPath</code></p>
<div class="ulist">
<ul>
<li>
<p>the key to be used for the JSON object sent as a payload</p>
</li>
</ul>
</div>
</li>
<li>
<p>(Optional) <code>postButtonLabel</code></p>
<div class="ulist">
<ul>
<li>
<p>controls the label of the button rendered by <code>postButton</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>(Optional) <code>headerCheckboxToggleAllPages</code></p>
<div class="ulist">
<ul>
<li>
<p>when <code>true</code>, selecting the "select all" checkbox in the header of the <code>@Grid</code> will select all the records in the dataset across all pages. When <code>false</code>, only within the current page items will be selected</p>
</li>
</ul>
</div>
</li>
<li>
<p>(Optional) <code>export</code></p>
<div class="ulist">
<ul>
<li>
<p>exposes the capability to download the grid data in .csv format</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example configuration for multiple row selection using @Grid</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Grid</span>(onLoad = <span class="predefined-constant">true</span>, rowSelection = <span class="predefined-constant">true</span>, postButton = <span class="predefined-constant">true</span>, postButtonUri = <span class="string"><span class="delimiter">&quot;</span><span class="content">../actionRemove</span><span class="delimiter">&quot;</span></span>, postButtonTargetPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">ids</span><span class="delimiter">&quot;</span></span>, postButtonLabel = <span class="string"><span class="delimiter">&quot;</span><span class="content">Remove</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Path</span>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/member/_search?fn=example</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;MemberLineItem&gt; membersGrid;

<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/page/tile/section/selectedIdsWrapper/_replace</span><span class="delimiter">&quot;</span></span>) //<b class="conum">(1)</b>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/p/member:&lt;!/../membersGrid/&lt;!col!&gt;/memberId!&gt;/_delete</span><span class="delimiter">&quot;</span></span>, col = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!/selectedIdsWrapper/ids!&gt;</span><span class="delimiter">&quot;</span></span>) //<b class="conum">(2)</b>
<span class="directive">private</span> <span class="predefined-type">String</span> actionRemove;

<span class="directive">private</span> SelectedIdsWrapper selectedIdsWrapper;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SelectedIdsWrapper</span> {
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; ids;
}

<span class="annotation">@MapsTo</span>.Type(<span class="predefined-type">Member</span>.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">MemberLineItem</span> { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, assume there are ten rows of data and the user selects indexes 1, 3, and 7 (Indexes are zero based). When clicking the <code>"Remove"</code> button, the an HTTP POST call is sent to the param at <code>actionRemove</code> with the payload:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">ids</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">7</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, the <code>@Config</code> statements decorating <code>actionRemove</code> are executed. Config <strong>#1</strong> uses <code>_replace</code> to update the <code>sepectedIdsWrapper</code> <code>ids</code> field to be <code>["1", "3", "7"]</code>. Config <strong>#2</strong> is a bit trickier to read, but it iterates over the values just set into <code>"selectedIdsWrapper/ids"</code> and for each id, retrieves a record from <code>membersGrid</code>. From that point, the object in context is a <code>MemberLineItem</code> object, from which <code>memberId</code> is retrieved and used with <code>_delete</code> to delete the selected members them from the <code>member</code> domain.</p>
</div>
<div class="paragraph">
<div class="title">Exporting grid content</div>
<p>The attribute <code>export=true</code> instructs the grid component to show an <code>export</code> link (clicking of which the grid data can be exported).
There are 2 kinds of scenarios where the export of grid data can be used.
1. When grid is configured to use client side pagination, the export functionality would export all the data to a csv file that gets downloaded on the machine.
2. When the grid is configured with server side pagination, the export functionality would export only the current page data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The data downloaded would be in CSV format.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_using_inline_edit_for_grid_records">Using inline edit for @Grid records</h6>
<div class="paragraph">
<p><code>@Grid</code> supports inline editing, allowing the user to edit the first-level visible fields in a table row.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Grid</span>(editRow = <span class="predefined-constant">true</span>) <b class="conum">(1)</b>
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;SampleLineItem&gt; editableGrid;

<span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SampleLineItem</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> _action_onEdit; <b class="conum">(2)</b>

    <span class="comment">// Line item fields below here</span>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Toggling the attribute <code>editRow</code> will enable/disable an edit icon which will make a <code>_get</code> request parameter defined by <code>onEdit</code>.</p>
</li>
<li>
<p>Decorate <code>_action_onEdit</code> with any <code>@Config</code> or framework supported annotations.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_configuring_server_side_pagination">Configuring server side pagination</h6>
<div class="paragraph">
<p>By default, if the the <code>@Grid</code> component is configured to use pagination, it uses client side pagination. The rendered table can be configured to work with the framework by providing Command DSL statements that the framework then interpolates and hands off to Spring to take advantage of it&#8217;s rich server side pagination features.</p>
</div>
<div class="paragraph">
<p>Certain pagination specific query parameters can be used to leverage framework support.</p>
</div>
<div class="hdlist">
<div class="title">Pagination Query Parameters</div>
<table>
<tr>
<td class="hdlist1">
<code>page</code> 
</td>
<td class="hdlist2">
<p>An integer representing the starting page number</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>pageSize</code> 
</td>
<td class="hdlist2">
<p>An integer for the number of elements to display per page</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>sortBy</code> 
</td>
<td class="hdlist2">
<p>A "key:value" string with the <code>key</code> representing the field over which to sort and the <code>value</code> representing the sort direction. Supported values are determined by the <code>org.springframework.data.domain.Direction</code> (<code>asc</code>, <code>desc</code>, etc.)</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Server side pagination example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Path(linked = <span class="predefined-constant">false</span>)
<span class="annotation">@Grid</span>(onLoad = <span class="predefined-constant">true</span>, pageSize = <span class="string"><span class="delimiter">&quot;</span><span class="content">3</span><span class="delimiter">&quot;</span></span>, lazyLoad = <span class="predefined-constant">true</span>) <b class="conum">(1)</b>
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/vpVisitsServer/vtVisits/vsVisits/visits.m/_process?fn=_set&amp;url=/p/visit/_search?fn=example&amp;&lt;!page=y!&gt;</span><span class="delimiter">&quot;</span></span>) <b class="conum">(2)</b>
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;VisitLineItem&gt; visits;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Setting <code>lazyLoad = true</code> as seen in &lt;1&gt; informs the client side to use server side pagination by sending Command DSL statements to the server. The client side will send pagination information as query parameters and payload data depending upon the action taken upon the rendered <code>@Grid</code> component.</p>
</div>
<div class="paragraph">
<p>Setting <code>&lt;!page=y!&gt;</code> as seen in &lt;2&gt;, invokes the <a href="#param-pathing-variable-resolver">Path Variable Resolver</a> to construct/pass along any query parameters/payload data sent from the incoming Command DSL statement for the <em>pagination query parameters</em>. For example, the following statement:</p>
</div>
<div class="paragraph">
<p><code><a href="http://localhost:8080/client/org/app/p/visitview/vpVisitsServer/vtVisits/vsVisits/visits/_get?b=$execute&amp;pageSize=5&amp;page=0" class="bare">http://localhost:8080/client/org/app/p/visitview/vpVisitsServer/vtVisits/vsVisits/visits/_get?b=$execute&amp;pageSize=5&amp;page=0</a></code></p>
</div>
<div class="paragraph">
<p>would result in &lt;2&gt; being invoked as:</p>
</div>
<div class="paragraph">
<p><code>/vpVisitsServer/vtVisits/vsVisits/visits.m/_process?fn=_set&amp;url=/p/visit/_search?fn=example&amp;page=0&amp;pageSize=5</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When serverside pagination is enabled and <code>&lt;!page=y!&gt;</code> is given, it is expected that <code>\_get</code> calls invoking the parameter would also send the pagination query parameters, otherwise pagination will not work as expected.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Sorting with server side pagination</div>
<p>Server side sorting can be achieved by setting <code>sortBy</code> as a query paremeter in the Command DSL statement.</p>
</div>
<div class="paragraph">
<p><code>/vpVisitsServer/vtVisits/vsVisits/visits.m/_process?fn=_set&amp;url=/p/visit/_search?fn=example&amp;page=0&amp;pageSize=5&amp;sortBy=firstName:DESC</code></p>
</div>
<div class="paragraph">
<div class="title">Filtering with server side pagination</div>
<p>Server side filtering can be achieved by setting the <code>filters</code> JSON in the raw payload alongside the Command DSL statement.</p>
</div>
<div class="paragraph">
<p>Request URL: <code>/vpVisitsServer/vtVisits/vsVisits/visits.m/_process?fn=_set&amp;url=/p/visit/_search?fn=example&amp;page=0&amp;pageSize=5</code></p>
</div>
<div class="paragraph">
<p>Payload:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="error">f</span><span class="error">i</span><span class="error">l</span><span class="error">t</span><span class="error">e</span><span class="error">r</span><span class="error">s</span>: [
    {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">bob</span><span class="delimiter">&quot;</span></span>
    }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-grid-column">GridColumn</h5>
<div class="paragraph">
<p>GridColumn is a container for displaying a single value within a <a href="#view-config-annotation-grid">Grid</a>.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-grid">Grid</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@GridColumn</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PetLineItem</span> {

    <span class="annotation">@GridColumn</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> field1;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-grid-row-body">GridRowBody</h5>
<div class="paragraph">
<p>GridRowBody is used to display additional content about the row data within a <a href="#view-config-annotation-grid">Grid</a>.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-grid">Grid</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><code>@GridRowBody</code> will display children components in the same manner as <a href="#view-config-annotation-section">Section</a> does. See the <em>Allowed Children Components</em> of <a href="#view-config-annotation-section">Section</a> for more details.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MapsTo</span>.Type(Pet.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PetLineItem</span> {

    <span class="annotation">@GridColumn</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="annotation">@GridRowBody</span>
    <span class="directive">private</span> ExpandedRowContent expandedRowContent;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">ExpandedRowContent</span> {

        <span class="annotation">@CardDetail</span>
        <span class="directive">private</span> CardDetails cardDetails;
    }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">CardDetails</span> {

        <span class="annotation">@CardDetail</span>.Body
        <span class="directive">private</span> CardBody cardBody;
    }

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">CardBody</span> {

        <span class="annotation">@FieldValue</span>
        <span class="annotation">@Path</span>
        <span class="directive">private</span> <span class="predefined-type">String</span> id;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-header">Header</h5>
<div class="paragraph">
<p>Header is a container with a text header, equivalent to an HTML header.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Header</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Header</span>(size = Header.Size.H1)
<span class="directive">private</span> <span class="predefined-type">String</span> header;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-hints">Hints</h5>
<div class="paragraph">
<p>Hints is a UI styling behavior applied for some components. The behavior applied is delegated to each individual component where <code>@Hints</code> is supported.</p>
</div>
<div class="listingblock">
<div class="title">Hints.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/#/h/cmdashboard/vpDashboard</span><span class="delimiter">&quot;</span></span>, imgSrc = <span class="string"><span class="delimiter">&quot;</span><span class="content">anthem-rev.svg</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Hints</span>(AlignOptions.Left)
<span class="annotation">@PageHeader</span>(Property.LOGO)
<span class="directive">private</span> <span class="predefined-type">String</span> linkHomeLogo;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-input-mask">InputMask</h5>
<div class="paragraph">
<p>InputMask is a text input component used to enter input in a certain format such as numeric, date, currency, email and phone.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@InputMask</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@InputMask</span>(mask = <span class="string"><span class="delimiter">&quot;</span><span class="content">(999) 999-9999</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Phone Number</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-input-switch">InputSwitch</h5>
<div class="paragraph">
<p>InputSwitch is used to select a boolean value.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@InputSwitch</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">On/Off</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@InputSwitch</span>
<span class="directive">private</span> <span class="type">boolean</span> on;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-image">Image</h5>
<div class="paragraph">
<p>An image component used for displaying images.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p>None.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Image</code> should not decorate a field and will typically be used as an annotation attribute in other components.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MenuPanel</span>(imgType = <span class="predefined-type">Image</span>.Type.SVG, imgSrc = <span class="string"><span class="delimiter">&quot;</span><span class="content">notesIcon</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VMPVisits vmpVisits;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-label">Label</h5>
<div class="paragraph">
<p>Label is used to display label text for a view component.</p>
</div>
<div class="paragraph">
<p>@Label can be used on all View annotations (e.g. <a href="#view-config-annotation-page">Page</a>, <a href="#view-config-annotation-tile">Tile</a>, <a href="#view-config-annotation-text-box">TextBox</a>, etc.), wherever content is necessary. Multiple <code>@Label</code> annotations can be provided for managing content for different locales.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">First Name</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> firstName;

<span class="annotation">@Label</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">Last Name</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> lastName;

<span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Select 3</span><span class="delimiter">&quot;</span></span> , helpText = <span class="string"><span class="delimiter">&quot;</span><span class="content">Please select atleast 3 cities</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@CheckBoxGroup</span>
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> city;

<span class="annotation">@Tile</span>
<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Dashboard</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VTDashboard vtDashboard;

<span class="annotation">@Page</span>
<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> VPDashboard vpDashboardWithEmptyLabel;

<span class="annotation">@Label</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">Test Label C in English</span><span class="delimiter">&quot;</span></span>, helpText=<span class="string"><span class="delimiter">&quot;</span><span class="content">some tooltip text here C</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Label</span>(value=<span class="string"><span class="delimiter">&quot;</span><span class="content">Test Label A in French</span><span class="delimiter">&quot;</span></span>, localeLanguageTag=<span class="string"><span class="delimiter">&quot;</span><span class="content">fr</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> staticText;

<span class="annotation">@Textbox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> addressline;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-link">Link</h5>
<div class="paragraph">
<p>Link is a hyperlink component used for navigation or user interaction of displayed text.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail">CardDetail</a>,
<a href="#view-config-annotation-grid">Grid</a>,
<a href="#view-config-annotation-link-menu">LinkMenu</a>,
<a href="#view-config-annotation-menu">Menu</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Link</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// UI Navigation to page vpHome under domain petclinic</span>
<span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/h/petclinic/vpHome</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> linkToHome;

<span class="comment">// Executes a request against _subscribe, and sets the image</span>
<span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">/notifications/_subscribe:{id}/_process</span><span class="delimiter">&quot;</span></span>, b=<span class="string"><span class="delimiter">&quot;</span><span class="content">$executeAnd$configAnd$nav</span><span class="delimiter">&quot;</span></span>, method = <span class="string"><span class="delimiter">&quot;</span><span class="content">POST</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> subscribeToEmailNotifications;

<span class="comment">// Creates an external link, as in a link navigating outside of the context of the Nimbus framework.</span>
<span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">https://www.mywebsite.com</span><span class="delimiter">&quot;</span></span>, value = Link.Type.EXTERNAL, target = <span class="string"><span class="delimiter">&quot;</span><span class="content">_new</span><span class="delimiter">&quot;</span></span>, rel = <span class="string"><span class="delimiter">&quot;</span><span class="content">nofollow</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> myWebsiteLink;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-link-menu">LinkMenu</h5>
<div class="paragraph">
<p>LinkMenu is a dropdown component used for displaying links within a <a href="#view-config-annotation-grid">Grid</a> row.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-grid">Grid</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-link">Link</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@LinkMenu</span>
<span class="directive">private</span> VLMMain vlmMain;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">private</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VLMMain</span> {

    <span class="comment">// Display a link that performs some @Config action</span>
    <span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">View Case</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Link</span>
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> viewCase;

    <span class="comment">// Display a link that performs some @Config action and uses an image icon.</span>
    <span class="annotation">@Label</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Assign Case Owner</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Link</span>(imgSrc = <span class="string"><span class="delimiter">&quot;</span><span class="content">task.svg</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">...</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> assignCase;

    <span class="comment">// Display a link that performs an external navigation in a new tab and passing a dynamic value</span>
    <span class="annotation">@Link</span>(value = <span class="predefined-type">Type</span>.EXTERNAL, target = <span class="string"><span class="delimiter">&quot;</span><span class="content">_blank</span><span class="delimiter">&quot;</span></span>, url = <span class="string"><span class="delimiter">&quot;</span><span class="content">${app.endpoints.documents}/showDocument.aspx?documentid={documentId}</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> viewDoc;

    <span class="directive">private</span> <span class="predefined-type">String</span> documentId;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-menu">Menu</h5>
<div class="paragraph">
<p>Menu is a container intended to display other navigation components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-link">Link</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Menu</span>
<span class="directive">private</span> SideMenu sideMenu;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">SideMenu</span> {

    <span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> home;

    <span class="annotation">@Link</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> <span class="predefined-type">String</span> signup;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-menu-link">MenuLink</h5>
<div class="paragraph">
<p>MenuLink is nestable menu link component that is exclusively used with <a href="#view-config-annotation-menu-panel">MenuPanel</a>.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-menu-panel">MenuPanel</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@MenuLink</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Link 1</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@MenuLink</span>
<span class="directive">private</span> <span class="predefined-type">String</span> link1;

<span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Link 2</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@MenuLink</span>
<span class="directive">private</span> <span class="predefined-type">String</span> link2;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-menu-panel">MenuPanel</h5>
<div class="paragraph">
<p>MenuPanel is a hybrid of accordion-tree components.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-menu-panel">MenuPanel</a>,
<a href="#view-config-annotation-page">Page</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-menu-link">MenuLink</a>,
<a href="#view-config-annotation-menu-panel">MenuPanel</a></p>
</div>
<div class="sect5">
<h6 id="_attributes">Attributes</h6>
<div class="ulist">
<ul>
<li>
<p>(Optional) <code>flow</code></p>
<div class="ulist">
<ul>
<li>
<p>If specified, aids the breadcrumb to identify the parent domain reference and renders the links correctly when a domain(other than the parent domain reference) and page is configured as a menulink</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MenuPanel</span>
<span class="directive">private</span> VMPView vmpView;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VMPView</span> {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Show View...</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@MenuLink</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> showView;

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Appearance</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@MenuPanel</span>(flow=<span class="string"><span class="delimiter">&quot;</span><span class="content">domainAalias</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> VMPAppearance appearance;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VMPAppearance</span> {

        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Toggle Full Screen</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@MenuLink</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">domainAalias/page1</span><span class="delimiter">&quot;</span></span>)
        <span class="directive">private</span> <span class="predefined-type">String</span> toggleFullScreen;

        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Toggle Always on Top</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@MenuLink</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">domainBalias/page1</span><span class="delimiter">&quot;</span></span>)
        <span class="directive">private</span> <span class="predefined-type">String</span> toggleAlwaysOnTop;

        <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Toggle with Animation</span><span class="delimiter">&quot;</span></span>)
        <span class="annotation">@MenuLink</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">domainAalias/page2</span><span class="delimiter">&quot;</span></span>)
        <span class="directive">private</span> <span class="predefined-type">String</span> toggleWithAnimation;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above configuration, the <code>MenuLink</code> has a url that points to either <code>domainAalias</code> or <code>domainBalias</code>. Lets say <code>VMPView</code> belongs to the domain that is the layout of the domainA. In other words, the view domain A has the layout of <code>MenuPanel</code> and <code>MenuLink</code>. So initially, When 'toggle full screen' <code>MenuLink</code> is clicked the breadcrumb would say - Home&#8594;Toggle Full Screen
When 'Toggle Always on Top' <code>MenuLink</code> is clicked, the breadcrumb would say Home&#8594;Toggle Always On Top.
When 'Toggle with Animation' is clicked the breadcrumb would say Home&#8594;Toggle With Animation
Its important to note that even though the transition is from <code>domainBalias</code> to <code>domainAalias</code>, the <code>flow</code> attribute tells the <code>MenuPanel</code> that the parent flow of <code>MenuLink</code> clicked is <code>domainAalias</code>. The value <code>domainAalias</code> is looked up in the breadcrumb list and the value is appended as a suffix.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-modal">Modal</h5>
<div class="paragraph">
<p>Modal is a container to display content in an overlay window.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-tile">Tile</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Modal Title</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Modal</span>
<span class="directive">private</span> VMMyModal vmMyModal;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VMMyModal</span> {

    <span class="annotation">@Section</span>
    <span class="directive">private</span> VSMain vs;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSMain</span> { ... }
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Displaying @Modal on Load</div>
<p><code>@Modal</code> makes use of <code>@ParamContext</code> to render it&#8217;s visible property to <code>false</code> during initialization by default. This and other similiar behaviors can be overridden by supplying the <code>context</code> attribute of <code>@Modal</code> with a <code>@ParamContext</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Modal</span>(context = <span class="annotation">@ParamContext</span>(enabled = <span class="predefined-constant">true</span>, visible = <span class="predefined-constant">true</span>))
<span class="directive">private</span> VMMyModal vmMyModal;

<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VMMyModal</span> { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#core-config-annotation-param-context">ParamContext</a> for more details.</p>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-page">Page</h5>
<div class="paragraph">
<p>Page is a container component that groups a collection of contents.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#core-config-annotation-domain">Domain</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-tile">Tile</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Page</span>(defaultPage = <span class="predefined-constant">true</span>)
<span class="directive">private</span> VPHome vpHome;

<span class="annotation">@Page</span>
<span class="directive">private</span> VPPets vpPets;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VPHome</span> {

    <span class="annotation">@Tile</span>
    <span class="directive">private</span> VTMain vtMain;

    <span class="annotation">@Model</span>
    <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VTMain</span> { ... }
}

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VPPets</span> { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-page-header">PageHeader</h5>
<div class="paragraph">
<p>TODO</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p>TODO</p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>TODO</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PageHeader</span>(PageHeader.Property.USERNAME)
<span class="directive">private</span> <span class="predefined-type">String</span> fullName;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-paragraph">Paragraph</h5>
<div class="paragraph">
<p>Paragraph is a container for displaying text content.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-header">Header</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Paragraph</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Paragraph</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello! Welcome to Pet Clinic.</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> welcome;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-pick-list">PickList</h5>
<div class="paragraph">
<p>PickList is used to reorder items between different lists.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-pick-list-selected">PickListSelected</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PickList</span>(sourceHeader = <span class="string"><span class="delimiter">&quot;</span><span class="content">Available Category</span><span class="delimiter">&quot;</span></span>, targetHeader = <span class="string"><span class="delimiter">&quot;</span><span class="content">Selected Category</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(value = SomeCategory.class)
<span class="directive">private</span> PicklistType category;

<span class="annotation">@MapsTo</span>.Type(SomeClass.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PicklistType</span> {

    <span class="annotation">@PickListSelected</span>(postEventOnChange = <span class="predefined-constant">true</span>)
    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">category</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Values</span>(value = SomeCategory.class)
    <span class="annotation">@NotNull</span>
    <span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> selected;
}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Using @PickList with Dynamic Values</div>
<p>The <code>@PickList</code> implementation is works closely with <a href="#core-config-annotation-values">Values</a>. In the previous sample configuration <code>@PickList</code> and <code>@PickListSelected</code> are using the same <code>@Values</code> source. If the values assigned to the <code>@PickList</code> component need to be conditionally set, meaning that the values on the source list are able to change, <a href="#config-annotations-values-conditional">ValuesConditional</a> can be used. See the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ComboBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@Values</span>(value = petType.class)
<span class="annotation">@ValuesConditional</span>(target = <span class="string"><span class="delimiter">&quot;</span><span class="content">../category</span><span class="delimiter">&quot;</span></span>, condition = {
    <span class="annotation">@ValuesConditional</span>.Condition(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Dog'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(value = DogCategory.class)),
    <span class="annotation">@ValuesConditional</span>.Condition(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Cat'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(value = CatCategory.class))
})
<span class="annotation">@VisibleConditional</span>(targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">../category</span><span class="delimiter">&quot;</span></span> }, when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state != 'Horse'</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@EnableConditional</span>(targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">../category</span><span class="delimiter">&quot;</span></span> }, when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state != 'Parrot'</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> type;

<span class="annotation">@PickList</span>(sourceHeader = <span class="string"><span class="delimiter">&quot;</span><span class="content">Available Category</span><span class="delimiter">&quot;</span></span>, targetHeader = <span class="string"><span class="delimiter">&quot;</span><span class="content">Selected Category</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> PicklistType category;

<span class="annotation">@MapsTo</span>.Type(SomeClass.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PicklistType</span> {

    <span class="annotation">@PickListSelected</span>(postEventOnChange = <span class="predefined-constant">true</span>)
    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">category</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@Values</span>(value = AllCategory.class)
    <span class="annotation">@NotNull</span>
    <span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> selected;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>One caveat to this implementation is that the <code>@PickListSelected</code> component should have it&#8217;s values set to the <strong>comprehensive set</strong> of possible values that the parent source list could contain. (e.g. The values in <code>DogCategory.class</code> and <code>CatCategory.class</code> should be contained in <code>AllCategory.class</code>). Not doing so may result in undesirable results.</p>
</div>
<div class="sect5">
<h6 id="view-config-annotation-pick-list-selected">PickListSelected</h6>
<div class="paragraph">
<p>PickListSelected is a required supplementary configuration for <a href="#view-config-annotation-pick-list">PickList</a>. The <code>@PickList</code> works exclusively with <code>@PickListSelected</code> by providing the UI a server-side location to store the <em>selected</em> values and any other metadata associated with those <em>selected</em> values.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-pick-list">PickList</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@PickListSelected</code> should decorate an array or collection.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PickListSelected</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">category</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(value = AllCategory.class)
<span class="annotation">@NotNull</span>
<span class="directive">private</span> <span class="predefined-type">String</span><span class="type">[]</span> selected;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-radio">Radio</h5>
<div class="paragraph">
<p>Radio is an extension to standard radio button element.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Radio</code> should decorate a field having a <code>Boolean</code> or <code>boolean</code> value.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Some question:</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Radio</span>(postEventOnChange = <span class="predefined-constant">true</span>, controlId = <span class="string"><span class="delimiter">&quot;</span><span class="content">27</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Values</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">~/client/orgname/staticCodeValue/_search?fn=lookup&amp;where=staticCodeValue.paramCode.eq('/q14')</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Path</span>
<span class="directive">private</span> <span class="predefined-type">String</span> q14;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-rich-text">RichText</h5>
<div class="paragraph">
<p>RichText is a rich text editor based on &lt;a href="https://www.primefaces.org/primeng/#/editor"&gt;PrimeNG&#8217;s Editor&lt;/a&gt;.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@RichText</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RichText</span>
<span class="directive">private</span> <span class="predefined-type">String</span> richTextbox;</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_displaying_readonly_content">Displaying Readonly Content</h6>
<div class="paragraph">
<p>The rich text editor supports readonly mode, which makes the field a true <code>readonly</code> form field that preserves rich text HTML formatting and removes any extra rich text features (e.g. toolbar and other similar features).</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RichText</span>(readOnly = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> richTextbox;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Use <code>readOnly</code> when needing to simply display the state of a decorated field containing an HTML formatted string.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_configuring_the_toolbar">Configuring the Toolbar</h6>
<div class="paragraph">
<p>The rich text editor toolbar by default has most of the available features enabled by default (see the Javadoc for explicit details). Toolbar features can be enabled/disabled via the following:</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RichText</span>(toolbarFeatures = { ToolbarFeature.BOLD, ToolbarFeature.ITALIC, ToolbarFeature.UNDERLINE })
<span class="directive">private</span> <span class="predefined-type">String</span> richTextbox;</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_configuring_fonts">Configuring Fonts</h6>
<div class="paragraph">
<p>Assuming the Toolbar feature <code>ToolbarFeature.FONT</code> is enabled, the fonts that are able to be used are entirely configurable and controlled by providing the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A unique string value for the font label</p>
</li>
<li>
<p>A CSS definition within the client application styles</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RichText</span>
<span class="annotation">@Fonts</span>({ <span class="string"><span class="delimiter">&quot;</span><span class="content">Times New Roman</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">CoolFont</span><span class="delimiter">&quot;</span></span> })
<span class="directive">private</span> <span class="predefined-type">String</span> richTextbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.ql-editor</span> <span class="class">.ql-font-times-new-roman</span> {
    <span class="key">font-family</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Times New Roman</span><span class="delimiter">&quot;</span></span>;
}
<span class="class">.ql-editor</span> <span class="class">.ql-font-cool-font</span> {
    <span class="key">font-family</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Cool Font</span><span class="delimiter">&quot;</span></span>;
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In order to use custom fonts (such as <code>"Cool Font"</code>), clients must ensure to load any/all necessary font files (e.g. <code>.woff</code>, <code>.ttf</code>).
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-section">Section</h5>
<div class="paragraph">
<p>Section is a container component that groups a collection of contents.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-grid">Grid</a>,
<a href="#view-config-annotation-modal">Modal</a>,
<a href="#view-config-annotation-section">Section</a>,
<a href="#view-config-annotation-tile">Tile</a>,
<a href="#view-config-annotation-tab">Tab</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-accordion">Accordion</a>,
<a href="#view-config-annotation-button">Button</a>,
<a href="#view-config-annotation-button-group">ButtonGroup</a>,
<a href="#view-config-annotation-card-detail">CardDetail</a>,
<a href="#view-config-annotation-card-details-grid">CardDetailsGrid</a>,
<a href="#view-config-annotation-chart">Chart</a>,
<a href="#view-config-annotation-combo-box">ComboBox</a>,
<a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-grid">Grid</a>,
<a href="#view-config-annotation-link">Link</a>,
<a href="#view-config-annotation-menu">Menu</a>,
<a href="#view-config-annotation-paragraph">Paragraph</a>,
<a href="#view-config-annotation-static-text">StaticText</a>,
<a href="#view-config-annotation-text-box">TextBox</a>,
<a href="#view-config-annotation-tab">Tab</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Section</span>
<span class="directive">private</span> VSMain vsMain;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VSMain</span> { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-signature">Signature</h5>
<div class="paragraph">
<p>Signature is an HTML canvas element that can be used to capture signature content. The <code>@Signature</code> component will render the following on the UI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>canvas</em> on which the user can draw</p>
</li>
<li>
<p><em>Clear</em> button, which will clear the <em>canvas</em></p>
</li>
<li>
<p><em>Accept</em> button, which will store the user-drawn content captured in <em>canvas</em> as a <em>data-url</em> representation</p>
</li>
<li>
<p><em>&lt;img&gt;</em>, which contains the stored image after clicking <em>accept</em> button</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@Signature</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Signature</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> employeeSignature;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-static-text">StaticText</h5>
<div class="paragraph">
<p>StaticText is a container for displaying html content or text "as is" to the UI. <code>@StaticText</code> may be used to bind unsafe HTML directly onto the page.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>With great power comes great responsibility.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Voltaire
</div>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-card-detail">CardDetail</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@StaticText</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@StaticText</span>
<span class="directive">private</span> <span class="predefined-type">String</span> description;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-tab">Tab</h5>
<div class="paragraph">
<p>Tab is a container component to group content with TabPanels.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-tile">Tile</a> <a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>@TabPanel.  TabPanel can support section or another Tab within it.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Tab</span>
    <span class="annotation">@Path</span>(linked=<span class="predefined-constant">false</span>)
    <span class="directive">private</span> Tab tab;

     <span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">Tab</span>  {

    <span class="annotation">@Label</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tab Panel</span><span class="delimiter">&quot;</span></span>)
    <span class="annotation">@TabPanel</span>
    <span class="annotation">@Path</span>(linked=<span class="predefined-constant">false</span>)
    <span class="directive">private</span> TabPanel panel;

}

    <span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">TabPanel</span>  {


 <span class="annotation">@Section</span>
 <span class="annotation">@Path</span>(linked=<span class="predefined-constant">false</span>)
 <span class="directive">private</span> TabContent tabContent;


    <span class="annotation">@Tab</span>
    <span class="annotation">@Path</span>(linked=<span class="predefined-constant">false</span>)
    <span class="directive">private</span> AnotherTabPanel anotherPanel;

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-text-area">TextArea</h5>
<div class="paragraph">
<p>TextArea is a text input component that allows for a specified number of rows.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@TextArea</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextArea</span>
<span class="directive">private</span> <span class="predefined-type">String</span> description;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-text-box">TextBox</h5>
<div class="paragraph">
<p>TextBox is a text input component.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-form">Form</a>,
<a href="#view-config-annotation-section">Section</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p>None. <code>@TextBox</code> should decorate a field having a simple type.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> sampleTextField;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-tile">Tile</h5>
<div class="paragraph">
<p>Tile is a container component that groups a collection of contents.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-page">Page</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-header">Header</a>,
<a href="#view-config-annotation-modal">Modal</a>,
<a href="#view-config-annotation-section">Section</a>,
<a href="#view-config-annotation-tile">Tile</a>,
<a href="#view-config-annotation-tab">Tab</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Tile</span>(size = Tile.Size.Large)
<span class="directive">private</span> VTMain vtMain;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">VTMain</span> { ... }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-tree-grid">TreeGrid</h5>
<div class="paragraph">
<p>TreeGrid is used to display hierarchical data in tabular format.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-section">Section</a>,
<a href="#view-config-annotation-form">Form</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><code>@TreeGrid</code> should decorate a field having a collection/array with a defined type. The defined type is treated as the definition for the row data in the rendered HTML table. This is referred to as the <em>collection element type</em>. The allowed children components of the collection element&#8217;s type are:</p>
</div>
<div class="paragraph">
<p><a href="#view-config-annotation-grid-column">GridColumn</a>,
<a href="#view-config-annotation-link-menu">LinkMenu</a>,
<a href="#view-config-annotation-tree-grid-child">TreeGrid</a></p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TreeGrid</span>
<span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>)
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/.m/_process?fn=_set&amp;url=/p/pethistory/_search?fn=example</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;PetHistoryLineItem&gt; treegrid;

<span class="annotation">@Model</span>
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PetHistoryLineItem</span> { ... }</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="view-config-annotation-tree-grid-child">TreeGrid</h6>
<div class="paragraph">
<p>TreeGridChild is the recursive child of <a href="#view-config-annotation-tree-grid">TreeGrid</a> and is used to display hierarchical data in tabular format.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p><a href="#view-config-annotation-tree-grid">TreeGrid</a></p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><code>@TreeGridChild</code> should decorate a field having a collection/array with a defined type. The defined type is treated as the definition for the row data in the rendered HTML table. This is referred to as the <em>collection element type</em>. The type should <strong>ALWAYS</strong> match the collection element type of the parent field decorated with <code>@TreeGrid</code> and consequently, the allowed children are the same as the allowed children of <a href="#view-config-annotation-tree-grid">TreeGrid</a>.</p>
</div>
<div class="listingblock">
<div class="title">Sample Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TreeGrid</span>
<span class="annotation">@Path</span>(linked = <span class="predefined-constant">false</span>)
<span class="annotation">@Config</span>(url = <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;!#this!&gt;/.m/_process?fn=_set&amp;url=/p/pethistory/_search?fn=example</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">List</span>&lt;PetHistoryLineItem&gt; treegrid;

<span class="annotation">@MapsTo</span>.Type(PetHistory.class)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">PetHistoryLineItem</span> {

    <span class="annotation">@GridColumn</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="annotation">@TreeGridChild</span>
    <span class="annotation">@Path</span>
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;PetHistoryLineItem&gt; children;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="view-config-annotation-view-root">ViewRoot</h5>
<div class="paragraph">
<p>ViewRoot is the entry point for a view domain definition.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Parent Components</div>
<p>None.</p>
</div>
<div class="paragraph">
<div class="title">Allowed Children Components</div>
<p><a href="#view-config-annotation-page">Page</a></p>
</div>
<div class="listingblock">
<div class="title">ViewRoot.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">sampleview</span><span class="delimiter">&quot;</span></span>, includeListeners = { ListenerType.websocket }, lifecycle = <span class="string"><span class="delimiter">&quot;</span><span class="content">sampleview</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@MapsTo</span>.Type(SampleView.class)
<span class="annotation">@Repo</span>(value = Database.rep_none, cache = Cache.rep_device)
<span class="annotation">@ViewRoot</span>(layout = <span class="string"><span class="delimiter">&quot;</span><span class="content">sampleviewlayout</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VRSampleView</span> { ... }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples">5.2. Examples</h3>
<div class="sect3">
<h4 id="examples-conditional-configuration">5.2.1. Conditional Configuration Examples</h4>
<div class="paragraph">
<p>The following samples showcase how to apply common conditional scenarios using the framework&#8217;s <em>@Conditional</em> annotations.</p>
</div>
<div class="listingblock">
<div class="title">Make Textbox "Read-Only" by Default</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>
<span class="annotation">@ParamContext</span>(enabled = <span class="predefined-constant">false</span>, visible = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox "Read-Only" When a Question is Answered as "Yes"</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">/../textbox</span><span class="delimiter">&quot;</span></span> })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Mandatory by Default</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Mandatory When a Question is Answered as "Yes"</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Validate by Pattern and be Mandatory When a Question is Answered as "Yes"</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { ValidationGroup.GROUP_1.class })
<span class="annotation">@Pattern</span>(regexp = <span class="string"><span class="delimiter">&quot;</span><span class="content">Hello (.*)!</span><span class="delimiter">&quot;</span></span>, groups = { ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Editable by Default</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Combobox Values Change and be Mandatory Based on Another Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@ComboBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@NotNull</span>(groups = { ValidationGroup.GROUP_1.class })
<span class="annotation">@ValuesConditional</span>(target = <span class="string"><span class="delimiter">&quot;</span><span class="content">../condition</span><span class="delimiter">&quot;</span></span>, condition = {
    <span class="annotation">@Condition</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state=='Yes'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(YES_VALUES.class)),
    <span class="annotation">@Condition</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state=='No'</span><span class="delimiter">&quot;</span></span>, then = <span class="annotation">@Values</span>(NO_VALUES.class))
})
<span class="directive">private</span> <span class="predefined-type">String</span> combobox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make TextBox Editable or Not-Editable by Default When a Form Loads</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Editable by default</span>
<span class="annotation">@TextBox</span>
<span class="directive">private</span> <span class="predefined-type">String</span> textbox1;

<span class="comment">// Not Editable by default - Method 1 (Preferred)</span>
<span class="annotation">@TextBox</span>
<span class="annotation">@ParamContext</span>(enabled = <span class="predefined-constant">false</span>, visible = <span class="predefined-constant">true</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox2;

<span class="comment">// Not Editable by default - Method 2</span>
<span class="annotation">@TextBox</span>
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>, targetPath = <span class="string"><span class="delimiter">&quot;</span><span class="content">../</span><span class="delimiter">&quot;</span></span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox2;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Editable and Apply Validations Based on the Value of Another Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">/../textbox</span><span class="delimiter">&quot;</span></span> })
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Already Having Validations have Additional Validations Based on the Value of Another Field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">/../textbox</span><span class="delimiter">&quot;</span></span> })
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = ValidationGroup.GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { ValidationGroup.GROUP_1.class })
<span class="annotation">@Min</span>(<span class="integer">10</span>)
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Form/Section Disabled Based on Some Condition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange = <span class="predefined-constant">true</span>)
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">/../form</span><span class="delimiter">&quot;</span></span> })
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@Form</span>
<span class="directive">private</span> MyForm form;

<span class="annotation">@Model</span> <span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">MyForm</span> {
    <span class="comment">// Form implementation here...</span>
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Hidden on Some Condition and On Another Condition, Make it Visible and Mandatory.</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@ActivateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'No'</span><span class="delimiter">&quot;</span></span>, targetPath = { <span class="string"><span class="delimiter">&quot;</span><span class="content">../textbox</span><span class="delimiter">&quot;</span></span> })
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state == 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class)
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
<span class="directive">private</span> LocalDateTime textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Mandatory When State is Anything but a Particular Value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@ValidateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state != null &amp;&amp; state != 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class)
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox "Read-Only" When State is Anything but a Particular Value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@EnableConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state != null &amp;&amp; state != 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class)
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Make Textbox Hidden When State is All but a Particular Value</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TextBox</span>(postEventOnChange=<span class="predefined-constant">true</span>)
<span class="annotation">@ActivateConditional</span>(when = <span class="string"><span class="delimiter">&quot;</span><span class="content">state!= null &amp;&amp; state != 'Yes'</span><span class="delimiter">&quot;</span></span>, targetGroup = GROUP_1.class)
<span class="directive">private</span> <span class="predefined-type">String</span> condition;

<span class="annotation">@TextBox</span>
<span class="annotation">@NotNull</span>(groups = { GROUP_1.class })
<span class="directive">private</span> <span class="predefined-type">String</span> textbox;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="examples-action-replace">5.2.2. _replace Examples</h4>
<div class="paragraph">
<p>The following samples showcase how to apply common scenarios using the framework&#8217;s <a href="#command-dsl-actions-replace">_replace</a> action.</p>
</div>
<div class="paragraph">
<p>The following class will be used in the <code>_replace</code> scenarios to follow.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_entity</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleEntity</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> single_element;
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; collection;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following scenarios will also assume that the param at <em>sample_entity:1</em> has a pre-existing state of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<hr>
<h5 id="_replacing_a_single_element_state" class="discrete">Replacing a single element state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_replace?rawPayload='hello'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be replaced with the <code>rawPayload</code>. The value for the field of <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_replacing_a_collection_element_state" class="discrete">Replacing a collection element state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/collection/0/_replace?rawPayload='hello'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [ <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span> ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/collection/0</code>, only the collection element having index <code>0</code> for the field <code>collection</code> is subject to be replaced with the <code>rawPayload</code>. The value for the field of <code>single_element</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_replacing_a_collection_state" class="discrete">Replacing a collection state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/collection/_replace?rawPayload='[\"1\", \"2\"]'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [ <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2</span><span class="delimiter">&quot;</span></span> ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/collection</code>, only the field <code>collection</code> is subject to be replaced with the <code>rawPayload</code>. The value for the field of <code>single_element</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_replacing_a_complex_object" class="discrete">Replacing a complex object</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/_replace?rawPayload='{\"single_element\": \"hello\"}'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1</code>, both fields are subject to be replaced with the <code>rawPayload</code>. In this scenario, only <code>single_element</code> has been provided which results in <code>collection</code> having a <code>null</code> value.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The important thing to note in this scenario, is that like all other scenarios the existing state is replaced. This means that if <em>collection</em> of the entity located at <em>sample_entity:1</em> had an existing value, it will be set to  <code>null</code> since the <em>rawPayload</em> parameter did not explicitely set it.
</td>
</tr>
</table>
</div>
<hr>
<h5 id="_replacing_an_entity_state_with_the_value_of_another_entity_state" class="discrete">Replacing an entity state with the value of another entity state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_replace?rawPayload=&lt;!json(PATH_TO_PARAM)!&gt;)</code></p>
</div>
<div class="paragraph">
<p>where <code>PATH_TO_PARAM</code> is path which points to another param, relative to the location of <code>single_element</code>.</p>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be replaced with the <code>rawPayload</code>. The value to be set will be the same as the state of the object identified by <code>PATH_TO_PARAM</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
This scenario can be used to copy a param&#8217;s state from one param to another.
</td>
</tr>
</table>
</div>
<hr>
<h5 id="_replacing_an_entity_state_with_post_data" class="discrete">Replacing an entity state with post data</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_replace")</code></p>
</div>
<div class="paragraph">
<div class="title">Post Data</div>
<p>"hello"</p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be replaced with the HTTP post data. The value for the field of <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_replacing_an_entity_state_to_null" class="discrete">Replacing an entity state to null</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_replace)</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assumes post data is not present</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be replaced with the HTTP post data. In this case the post data is <code>null</code> so the resulting value for <code>single_element</code> will then be <code>null</code>. The value for the field of <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-action-update">5.2.3. _update Examples</h4>
<div class="paragraph">
<p>The following samples showcase how to apply common scenarios using the framework&#8217;s <a href="#command-dsl-actions-update">_update</a> action.</p>
</div>
<div class="paragraph">
<p>The following class will be used in the <em>_update</em> scenarios to follow.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Domain</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample_entity</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@Getter</span> <span class="annotation">@Setter</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SampleEntity</span> {

    <span class="directive">private</span> <span class="predefined-type">String</span> single_element;
    <span class="directive">private</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; collection;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following scenarios will also assume that the param at <em>sample_entity:1</em> has a pre-existing state of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<hr>
<h5 id="_updating_a_single_element_state" class="discrete">Updating a single element state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_update?rawPayload='hello'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be updated with the value of <code>rawPayload</code>. The value for the field of <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_updating_a_collection_element_state" class="discrete">Updating a collection element state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/collection/0/_update?rawPayload='hello'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/collection/0</code>, only the collection element at index <code>0</code> for the field <code>collection</code> is subject to be updated with the value of <code>rawPayload</code>. The value for the field of <code>single_element</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<hr>
<h5 id="_updating_a_collection_state" class="discrete">Updating a collection state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/collection/_update?rawPayload='\"new_value\"'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new_value</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/collection</code>, only the field <code>collection</code> is subject to be updated with the value of <code>rawPayload</code>. Performing an <em>_update</em> call on a collection essentially performs an <strong>add</strong> operation. The value for the field of <code>single_element</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If needing to replace elements within the collection as a whole, consider using <a href="#command-dsl-actions-replace">_replace</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also permissible to pass an array as a payload.</p>
</div>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/collection/_update?rawPayload='[\"new_value_1\", \"new_value_2\"]'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new_value_1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">new_value_2</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this scenario, <strong>all of the array elements</strong> within <code>rawPayload</code> would be added to the collection.</p>
</div>
<hr>
<h5 id="_updating_a_complex_object" class="discrete">Updating a complex object</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/_update?rawPayload='{\"single_element\": \"hello\"}'")</code></p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1</code>, both fields are subject to be updated with the value of <code>rawPayload</code>. Performing an <em>_update</em> call in this call preserves any previously existing state for fields not specified in the <code>rawPayload</code>. Consequently, the value for the field of <code>single_element</code> is updated, while <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Nested domain models can become quite large! Use <em>_update</em> when needing to target specific values within a domain entity.
</td>
</tr>
</table>
</div>
<hr>
<h5 id="_updating_an_entity_state_with_the_value_of_another_entity_state" class="discrete">Updating an entity state with the value of another entity state</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_update?rawPayload=&lt;!json(PATH_TO_PARAM)!&gt;)</code></p>
</div>
<div class="paragraph">
<p>where <code>PATH_TO_PARAM</code> is path which points to another param, relative to the location of <code>single_element</code>.</p>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be updated with the value of <code>rawPayload</code>. The value to be set will be the same as the state of the object identified by <code>PATH_TO_PARAM</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
This scenario can be used to copy a param&#8217;s state from one param to another.
</td>
</tr>
</table>
</div>
<hr>
<h5 id="_updating_an_entity_state_with_post_data" class="discrete">Updating an entity state with post data</h5>
<div class="paragraph">
<p><code>@Config(url = "sample_entity:1/single_element/_update")</code></p>
</div>
<div class="paragraph">
<div class="title">Post Data</div>
<p>"hello"</p>
</div>
<div class="listingblock">
<div class="title">Resulting State of <em>sample_entity:1</em></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">single_element</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">hello</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">collection</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">empty_value_1</span><span class="delimiter">&quot;</span></span>]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the path in this scenario is pointing to <code>sample_entity:1/single_element</code>, only the field <code>single_element</code> is subject to be updated with the HTTP post data. The value for the field of <code>collection</code> is unaffected and retains it&#8217;s previous value.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-values-configuration">5.2.4. Values Configuration Examples</h4>
<div class="paragraph">
<p>The following samples showcase how to apply common scenarios using the framework&#8217;s <em>@Values</em> annotation.</p>
</div>
<div class="listingblock">
<div class="title">Using a static Source implementation to define a set of values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Values</span>(SampleStaticSource.class)
<span class="annotation">@CheckBoxGroup</span>
<span class="directive">private</span> <span class="predefined-type">String</span> petTypes;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, all of the values retrieved from SampleStaticSource.getValues will be displayed as a collection of checkboxes.</p>
</div>
<div class="listingblock">
<div class="title">Using a url-based Source implementation to define a set of values</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Values</span>(url=<span class="string"><span class="delimiter">&quot;</span><span class="content">CLIENT_ID/ORG/p/staticCodeValue/_search?fn=lookup&amp;where=staticCodeValue.paramCode.eq('/petType')</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@CheckBoxGroup</span>
<span class="directive">private</span> <span class="predefined-type">String</span> petTypes;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, all of the values retrieved from the url defined in <strong>@Values</strong> will be displayed
as a collection of checkboxes.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.3.1.M3<br>
Last updated 2019-07-08 15:55:21 -0500
</div>
</div>
<script src="tocbot-3.0.2/tocbot.js"></script>
<script>
    // Tocbot dynamic TOC, works with tocbot 3.0.2
    // Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006
    var oldtoc = document.getElementById('toctitle').nextElementSibling;
    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: 'h1, h2, h3, h4, h5',
        smoothScroll: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4, h5',
                smoothScroll: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();

    function addCss(fileName) {
        var head = document.head;
        var link = document.createElement("link");
        link.type = "text/css";
        link.rel = "stylesheet";
        link.href = fileName;
        head.appendChild(link);
    }
    addCss('tocbot-3.0.2/tocbot.css');

    // Add a back to index link in the toc sidebar
    var link = document.createElement("a");
    link.setAttribute("href", "index.html");
    link.setAttribute("class", "go-back")
    link.innerHTML = "<i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>&nbsp;&nbsp;Back to index";
    var p = document.createElement("p");
    p.appendChild(link);
    var toc = document.getElementById('toc')
    var next = document.getElementById('toctitle').nextElementSibling;
    toc.insertBefore(p, next);
</script>
</body>
</html>
